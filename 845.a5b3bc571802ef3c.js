"use strict";(self.webpackChunkpayroll=self.webpackChunkpayroll||[]).push([[845],{6845:(Nt,A,c)=>{c.r(A),c.d(A,{EmployeModule:()=>Ct});var d=c(6895),h=c(4763),a=c(4006),p=c(5439),m=c(5999),e=c(4650),_=c(8423),y=c(4383),Z=c(9264),x=c(4463),g=c(4294);const N=function(o){return{"bg-[#004B99]":o}};function T(o,r){if(1&o&&e._UZ(0,"hr",9),2&o){const t=e.oxw().$implicit,i=e.oxw();e.Q6J("ngClass",e.VKq(1,N,t<i.currentStep))}}const D=function(o){return{"bg-[#004B99] border-none":o}},S=function(o){return{" text-white":o}};function k(o,r){if(1&o&&(e.TgZ(0,"div",2)(1,"div",3)(2,"div",4)(3,"p",5),e._uU(4),e.qZA()(),e.TgZ(5,"div",6)(6,"p",7),e._uU(7),e.qZA()()(),e.YNc(8,T,1,3,"hr",8),e.qZA()),2&o){const t=r.$implicit,i=e.oxw();e.xp6(2),e.Q6J("ngClass",e.VKq(5,D,i.currentStep===t)),e.xp6(1),e.Q6J("ngClass",e.VKq(7,S,i.currentStep===t)),e.xp6(1),e.hij(" ",t," "),e.xp6(3),e.hij(" ",1===t?"Personal Information":2===t?"Employee Identification":3===t?"Salary Information":"Summary"," "),e.xp6(1),e.Q6J("ngIf",3!==t)}}let E=(()=>{class o{constructor(){this.steps=[1,2,3]}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-stepper"]],inputs:{currentStep:"currentStep"},decls:2,vars:1,consts:[[1,"flex","justify-around","gap-4","xl:gap-6"],["class","xl:flex xl:items-center w-1/3",4,"ngFor","ngForOf"],[1,"xl:flex","xl:items-center","w-1/3"],[1,"flex","flex-col","items-center"],[1,"border","font-semibold","text-sm","text-bg-[#004B99]","rounded-full","w-8","h-8","flex","justify-center","items-center",3,"ngClass"],[3,"ngClass"],[1,"hidden","xl:block"],[1,"font-medium","text-neutral-magnolia"],["class","flex-1 h-1 bg-black",3,"ngClass",4,"ngIf"],[1,"flex-1","h-1","bg-black",3,"ngClass"]],template:function(t,i){1&t&&(e.TgZ(0,"section",0),e.YNc(1,k,9,9,"div",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngForOf",i.steps))},dependencies:[d.mk,d.sg,d.O5]}),o})();var v=c(2074),C=c(5198);function U(o,r){1&o&&(e.TgZ(0,"div",5)(1,"label",6),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"fieldset",14),e._UZ(5,"input",15),e.qZA()()),2&o&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"Monthly Social Salary")))}function F(o,r){if(1&o&&(e.TgZ(0,"p",22),e._uU(1),e.ALo(2,"number"),e.qZA()),2&o){const t=e.oxw(3);e.xp6(1),e.hij(" ",e.xi3(2,1,t.incomeTax,".2-2")," ")}}function I(o,r){if(1&o&&(e.TgZ(0,"p",22),e._uU(1),e.ALo(2,"number"),e.qZA()),2&o){const t=e.oxw(3);e.xp6(1),e.hij(" ",e.xi3(2,1,t.nationalContribution,".2-2")," ")}}function J(o,r){if(1&o&&(e.TgZ(0,"p",22),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit,i=e.oxw(2);e.xp6(1),e.hij(" ",!0===(null==t||null==t.value?null:t.value.isPercentage)?(null==t||null==t.value?null:t.value.value)*i.socialSecurity/100:null==t||null==t.value?null:t.value.value," ")}}function L(o,r){if(1&o&&(e.TgZ(0,"p",22),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit,i=e.oxw(2);e.xp6(1),e.hij(" ",!0===(null==t||null==t.value?null:t.value.isPercentage)?(null==t||null==t.value?null:t.value.value)*i.salary/100:null==t||null==t.value?null:t.value.value," ")}}function Y(o,r){1&o&&(e.TgZ(0,"p",30),e._uU(1," 0 "),e.qZA())}function O(o,r){if(1&o&&(e.ynx(0),e.TgZ(1,"div",26)(2,"p",27),e._uU(3),e.qZA(),e.TgZ(4,"p",21),e._uU(5),e.qZA(),e.YNc(6,F,3,4,"p",28),e.YNc(7,I,3,4,"p",28),e.YNc(8,J,2,1,"p",28),e.YNc(9,L,2,1,"p",28),e.YNc(10,Y,2,0,"p",29),e.qZA(),e.BQk()),2&o){const t=r.$implicit,i=e.oxw().$implicit;e.xp6(1),e.Q6J("formGroup",t),e.xp6(2),e.hij(" ",null==t||null==t.value?null:t.value.name," "),e.xp6(2),e.hij(" ","Income Tax"===(null==t||null==t.value?null:t.value.name)||"National Contribution"===(null==t||null==t.value?null:t.value.name)?"--":null!=t&&null!=t.value&&t.value.isPercentage?(null==t||null==t.value?null:t.value.value)+"%":"-"," "),e.xp6(1),e.Q6J("ngIf",i.startsWith("fixed")&&"Income Tax"===(null==t||null==t.value?null:t.value.name)),e.xp6(1),e.Q6J("ngIf",i.startsWith("fixed")&&"National Contribution"===(null==t||null==t.value?null:t.value.name)),e.xp6(1),e.Q6J("ngIf",i.startsWith("fixed")&&"Social Security"===(null==t||null==t.value?null:t.value.name)),e.xp6(1),e.Q6J("ngIf",i.startsWith("fixed")&&"Social Security"!==(null==t||null==t.value?null:t.value.name)&&"Income Tax"!==(null==t||null==t.value?null:t.value.name)&&"National Contribution"!==(null==t||null==t.value?null:t.value.name)),e.xp6(1),e.Q6J("ngIf",!i.startsWith("fixed"))}}function j(o,r){if(1&o&&(e.TgZ(0,"div",16)(1,"div",17),e._uU(2),e.qZA(),e.TgZ(3,"div",18)(4,"div",19)(5,"p",20),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"p",21),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"p",22),e._uU(12),e.ALo(13,"translate"),e.qZA()(),e._UZ(14,"hr",23),e.ynx(15,24),e.YNc(16,O,11,8,"ng-container",25),e.BQk(),e.qZA()()),2&o){const t=r.$implicit,i=e.oxw();e.xp6(2),e.hij(" ",i.fieldNames[t]," "),e.xp6(4),e.Oqu(e.lcZ(7,6,"Name")),e.xp6(3),e.Oqu(e.lcZ(10,8,"Percentage")),e.xp6(3),e.Oqu(e.lcZ(13,10,"Value")),e.xp6(3),e.Q6J("formArrayName",t),e.xp6(1),e.Q6J("ngForOf",i.formArray(t).controls)}}let M=(()=>{class o{constructor(t,i,l,n){this.fb=t,this.settingService=i,this.spinner=l,this.toastr=n,this.fields=["fixedIncome","variableIncome","fixedDeductibles","variableDeductibles"],this.fieldNames={fixedIncome:"Fixed Income",variableIncome:"Variable Income",fixedDeductibles:"Fixed Deductibles",variableDeductibles:"Variable Deductibles"},this.updateCalculations=new e.vpe,this.today=p().format("YYYY-MM-DD"),this.salary=0,this.incomeTax=0,this.nationalContribution=0,this.socialSecurity=0,this.latestTaxSlabs=[],this.latestNC=[]}ngOnInit(){this.getLatestSalary(),this.getCurrentNC(),this.getCurrentTaxSlab()}ngOnChanges(t){this.firstVisit=t.firstVisit.currentValue,this.socialSecurityApplicable=t.socialSecurityApplicable.currentValue}getLatestSalary(){this.firstVisit?(this.spinner.show(),this.settingService.getLatestSalaryBreakdown().subscribe(t=>{t?.success?(this.salaryDetails=t?.data,this.fields.forEach(i=>{this.salaryDetails[i]=this.salaryDetails[i].filter(l=>l?.isApplicable),this.salaryDetails[i].forEach(l=>{this.addItem(i,l)})})):this.toastr.error(t?.message)},t=>{this.toastr.error(t?.error?.error)},()=>this.spinner.hide())):this.calculateSalary()}getCurrentTaxSlab(){this.settingService.getLatestTaxSlab().subscribe(t=>{t?.success?this.latestTaxSlabs=t?.data?.range:this.toastr.error(t?.message)},t=>this.toastr.error(t?.error?.message),()=>this.spinner.hide())}getCurrentNC(){this.settingService.getLatestNC().subscribe(t=>{t?.success?this.latestNC=t?.data?.range:this.toastr.error(t?.message)},t=>this.toastr.error(t?.error?.message),()=>this.spinner.hide())}addItem(t,i){this.salaryForm.get(t).push(this.fb.group({name:[i?.name],isPercentage:[i?.isPercentage??!1],value:[i?.value??0]}))}formArray(t){return this.salaryForm.get(t)}calculateSalary(){if(this.socialSecurityApplicable){if(0===this.salaryForm.get("salary").value||0===this.salaryForm.get("socialSalary").value)return void this.toastr.error("Please fill Monthly Social salary and salary to proceed")}else if(0===this.salaryForm.get("salary").value)return void this.toastr.error("Please fill Monthly Social salary and salary to proceed");this.spinner.show(),this.incomeTax=0,this.nationalContribution=0;let t=this.salaryForm.get("salary").value,i=this.salaryForm.get("salary").value;for(let l=0;l<this.latestTaxSlabs.length;l++){let n=this.latestTaxSlabs[l].end-(this.latestTaxSlabs[l].start>0?this.latestTaxSlabs[l].start-1:this.latestTaxSlabs[l].start);if(t<=0)break;t<=n?(this.incomeTax+=t*this.latestTaxSlabs[l].percent/100,t=0):(this.incomeTax+=n*this.latestTaxSlabs[l].percent/100,t-=n)}for(let l=0;l<this.latestNC.length;l++){let n=this.latestNC[l].end-(this.latestNC[l].start>0?this.latestNC[l].start-1:this.latestNC[l].start);if(i<=0)break;i<=n?(this.nationalContribution+=i*this.latestNC[l].percent/100,i=0):(this.nationalContribution+=n*this.latestNC[l].percent/100,i-=n)}this.salary=this.salaryForm.get("salary").value??0,this.socialSecurity=this.salaryForm.get("socialSalary").value,this.updateCalculations.emit({incomeTax:this.incomeTax,nationalContribution:this.nationalContribution}),setTimeout(()=>{this.spinner.hide()},1e3)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(a.qu),e.Y36(C.R),e.Y36(_.t2),e.Y36(y._W))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-salary"]],inputs:{salaryForm:"salaryForm",firstVisit:"firstVisit",socialSecurityApplicable:"socialSecurityApplicable"},outputs:{updateCalculations:"updateCalculations"},features:[e.TTD],decls:26,vars:19,consts:[[3,"formGroup"],[1,"text-2xl","font-bold","mb-2","xl:text-3xl"],[1,"text-neutral-cool-gray","mb-5","xl:mb-8"],[1,"flex","flex-col","space-y-8","rtl:space-y-reverse","w-full"],[1,"flex","space-x-2","rtl:space-x-reverse","items-center"],[1,"flex","w-1/4","items-center","space-x-2","rtl:space-x-reverse"],[1,"Gilroy-Bold"],[1,"w-2/3"],["formControlName","applicableDate","type","date",1,"bg-input","border-[1px]","h-11","p-1",3,"min"],["class","flex w-1/4 items-center space-x-2 rtl:space-x-reverse",4,"ngIf"],["formControlName","salary","type","number","min","0",1,"bg-input","border-[1px]","h-11","p-1"],["type","primary",3,"buttonText","handleClick"],[1,"w-full","bg-black"],["class","w-2/3  space-x-4 rtl:space-x-reverse",4,"ngFor","ngForOf"],[1,"w-1/2"],["formControlName","socialSalary","type","number","min","0",1,"bg-input","border-[1px]","h-11","p-1"],[1,"w-2/3","space-x-4","rtl:space-x-reverse"],[1,"w-full","text-left","px-4","font-semibold","mb-2"],[1,"w-full","box-shadow","bg-gray-50","px-4","py-2","rounded-md"],[1,"w-full","justify-between","flex","my-2","font-semibold"],[1,"w-1/3"],[1,"w-1/3","text-center"],[1,"w-1/3","text-end"],[1,"w-full","my-1","bg-black"],[3,"formArrayName"],[4,"ngFor","ngForOf"],[1,"w-full","justify-between","flex","my-2",3,"formGroup"],[1,"w-1/3","text-start"],["class","w-1/3 text-end",4,"ngIf"],["class","w-1/3 flex justify-end",4,"ngIf"],[1,"w-1/3","flex","justify-end"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"h2",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"p",2),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"div",3)(8,"div",4)(9,"div",5)(10,"label",6),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"fieldset",7),e._UZ(14,"input",8),e.qZA()(),e.YNc(15,U,6,3,"div",9),e.TgZ(16,"div",5)(17,"label",6),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"fieldset",7),e._UZ(21,"input",10),e.qZA()(),e.TgZ(22,"app-button",11),e.NdJ("handleClick",function(){return i.calculateSalary()}),e.ALo(23,"translate"),e.qZA()(),e._UZ(24,"hr",12),e.YNc(25,j,17,12,"div",13),e.qZA()()),2&t&&(e.Q6J("formGroup",i.salaryForm),e.xp6(2),e.Oqu(e.lcZ(3,9,"Define Salary")),e.xp6(3),e.hij(" ",e.lcZ(6,11,"Predefining salary helps in the payroll process at later time"),". "),e.xp6(6),e.Oqu(e.lcZ(12,13,"Applicable Date")),e.xp6(3),e.Q6J("min",i.today),e.xp6(1),e.Q6J("ngIf",i.socialSecurityApplicable),e.xp6(3),e.Oqu(e.lcZ(19,15,"Monthly Salary")),e.xp6(4),e.Q6J("buttonText",e.lcZ(23,17,"Calculate")),e.xp6(3),e.Q6J("ngForOf",i.fields))},dependencies:[d.sg,d.O5,g.r,a.Fj,a.wV,a.JJ,a.JL,a.qQ,a.sg,a.u,a.CE,d.JJ,x.X$],styles:[".box-shadow[_ngcontent-%COMP%]{box-shadow:#63636333 0 2px 8px}"]}),o})();function Q(o,r){if(1&o&&(e.TgZ(0,"div",49),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.formErrors.firstName,"")}}function B(o,r){if(1&o&&(e.TgZ(0,"div",49),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.formErrors.middleName,"")}}function V(o,r){if(1&o&&(e.TgZ(0,"div",49),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.formErrors.lastName,"")}}function G(o,r){if(1&o&&(e.TgZ(0,"div",49),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.formErrors.empCode,"")}}function P(o,r){if(1&o&&(e.TgZ(0,"div",49),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.formErrors.email,"")}}function R(o,r){if(1&o&&(e.TgZ(0,"div",49),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.formErrors.dateOfJoining,"")}}function $(o,r){if(1&o&&(e.TgZ(0,"div",49),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.formErrors.contactNo,"")}}function H(o,r){if(1&o&&(e.TgZ(0,"div",49),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.formErrors.dob,"")}}function K(o,r){if(1&o&&(e.TgZ(0,"div",49),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Oqu(t.formErrors.gender)}}function W(o,r){if(1&o&&(e.TgZ(0,"div",49),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.formErrors.department,"")}}function z(o,r){if(1&o&&(e.TgZ(0,"div",49),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.formErrors.designation,"")}}function X(o,r){if(1&o&&(e.TgZ(0,"div",49),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.formErrors.fatherName,"")}}function ee(o,r){if(1&o&&(e.TgZ(0,"div",49),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.formErrors.motherName,"")}}function te(o,r){if(1&o&&(e.TgZ(0,"div",49),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.formErrors.address,"")}}function oe(o,r){if(1&o&&(e.TgZ(0,"div",49),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.formErrors.location," ")}}function ie(o,r){if(1&o&&(e.TgZ(0,"section",12)(1,"h1",13),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"p",14),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"div",15)(8,"div",16)(9,"div",17)(10,"div",18)(11,"label",19),e._uU(12),e.ALo(13,"translate"),e.qZA(),e._UZ(14,"input",20),e.ALo(15,"translate"),e.YNc(16,Q,2,1,"div",21),e.qZA(),e.TgZ(17,"div",18)(18,"label",22),e._uU(19),e.ALo(20,"translate"),e.qZA(),e._UZ(21,"input",23),e.ALo(22,"translate"),e.YNc(23,B,2,1,"div",21),e.qZA(),e.TgZ(24,"div",18)(25,"label",24),e._uU(26),e.ALo(27,"translate"),e.qZA(),e._UZ(28,"input",25),e.ALo(29,"translate"),e.YNc(30,V,2,1,"div",21),e.qZA()(),e.TgZ(31,"div",17)(32,"div",18)(33,"label",26),e._uU(34),e.ALo(35,"translate"),e.qZA(),e._UZ(36,"input",27),e.ALo(37,"translate"),e.YNc(38,G,2,1,"div",21),e.qZA(),e.TgZ(39,"div",18)(40,"label",28),e._uU(41),e.ALo(42,"translate"),e.qZA(),e._UZ(43,"input",29),e.ALo(44,"translate"),e.YNc(45,P,2,1,"div",21),e.qZA(),e.TgZ(46,"div",18)(47,"label",30),e._uU(48),e.ALo(49,"translate"),e.qZA(),e._UZ(50,"input",31),e.YNc(51,R,2,1,"div",21),e.qZA()(),e.TgZ(52,"div",17)(53,"div",18)(54,"label",32),e._uU(55),e.ALo(56,"translate"),e.qZA(),e._UZ(57,"input",33),e.ALo(58,"translate"),e.YNc(59,$,2,1,"div",21),e.qZA(),e.TgZ(60,"div",18)(61,"label",34),e._uU(62),e.ALo(63,"translate"),e.qZA(),e._UZ(64,"input",35),e.YNc(65,H,2,1,"div",21),e.qZA(),e.TgZ(66,"div",18)(67,"label",36),e._uU(68),e.ALo(69,"translate"),e.qZA(),e._UZ(70,"ng-select",37),e.ALo(71,"translate"),e.YNc(72,K,2,1,"div",21),e.qZA()(),e.TgZ(73,"div",17)(74,"div",18)(75,"label",24),e._uU(76),e.ALo(77,"translate"),e.qZA(),e._UZ(78,"ng-select",38),e.ALo(79,"translate"),e.YNc(80,W,2,1,"div",21),e.qZA(),e.TgZ(81,"div",18)(82,"label",39),e._uU(83),e.ALo(84,"translate"),e.qZA(),e._UZ(85,"input",40),e.ALo(86,"translate"),e.YNc(87,z,2,1,"div",21),e.qZA()(),e.TgZ(88,"div",17)(89,"div",18)(90,"label",41),e._uU(91),e.ALo(92,"translate"),e.qZA(),e._UZ(93,"input",42),e.ALo(94,"translate"),e.YNc(95,X,2,1,"div",21),e.qZA(),e.TgZ(96,"div",18)(97,"label",43),e._uU(98),e.ALo(99,"translate"),e.qZA(),e._UZ(100,"input",44),e.ALo(101,"translate"),e.YNc(102,ee,2,1,"div",21),e.qZA()(),e.TgZ(103,"div",17)(104,"div",18)(105,"label",45),e._uU(106),e.ALo(107,"translate"),e.qZA(),e.TgZ(108,"textarea",46),e.ALo(109,"translate"),e._uU(110,"                  "),e.qZA(),e.YNc(111,te,2,1,"div",21),e.qZA(),e.TgZ(112,"div",18)(113,"label",47),e._uU(114),e.ALo(115,"translate"),e.qZA(),e._UZ(116,"ng-select",48),e.ALo(117,"translate"),e.YNc(118,oe,2,1,"div",21),e.qZA()()()()()),2&o){const t=e.oxw();e.Q6J("formGroup",t.employeForm),e.xp6(2),e.Oqu(e.lcZ(3,50,"Personal Info")),e.xp6(3),e.hij(" ",e.lcZ(6,52,"Please provide your name, email address, and phone number"),". "),e.xp6(7),e.Oqu(e.lcZ(13,54,"Employe First Name")),e.xp6(2),e.s9C("placeholder",e.lcZ(15,56,"First Name")),e.xp6(2),e.Q6J("ngIf",t.formErrors.firstName),e.xp6(3),e.Oqu(e.lcZ(20,58,"Middle Name")),e.xp6(2),e.s9C("placeholder",e.lcZ(22,60,"Middle Name")),e.xp6(2),e.Q6J("ngIf",t.formErrors.middleName),e.xp6(3),e.Oqu(e.lcZ(27,62,"Last Name")),e.xp6(2),e.s9C("placeholder",e.lcZ(29,64,"Last Name")),e.xp6(2),e.Q6J("ngIf",t.formErrors.lastName),e.xp6(4),e.Oqu(e.lcZ(35,66,"Employe Code")),e.xp6(2),e.s9C("placeholder",e.lcZ(37,68,"Employe Code")),e.xp6(2),e.Q6J("ngIf",t.formErrors.empCode),e.xp6(3),e.Oqu(e.lcZ(42,70,"Email Address")),e.xp6(2),e.s9C("placeholder",e.lcZ(44,72,"Email Address")),e.xp6(2),e.Q6J("ngIf",t.formErrors.email),e.xp6(3),e.Oqu(e.lcZ(49,74,"Date of Joining")),e.xp6(3),e.Q6J("ngIf",t.formErrors.dateOfJoining),e.xp6(4),e.Oqu(e.lcZ(56,76,"Mobile Number")),e.xp6(2),e.s9C("placeholder",e.lcZ(58,78,"Mobile Number")),e.xp6(2),e.Q6J("ngIf",t.formErrors.contactNo),e.xp6(3),e.Oqu(e.lcZ(63,80,"Date of Birth")),e.xp6(3),e.Q6J("ngIf",t.formErrors.dob),e.xp6(3),e.Oqu(e.lcZ(69,82,"Gender")),e.xp6(2),e.s9C("placeholder",e.lcZ(71,84,"Select Gender")),e.Q6J("items",t.options),e.xp6(2),e.Q6J("ngIf",t.formErrors.gender),e.xp6(4),e.Oqu(e.lcZ(77,86,"Department")),e.xp6(2),e.s9C("placeholder",e.lcZ(79,88,"Select Department")),e.Q6J("items",t.departments),e.xp6(2),e.Q6J("ngIf",t.formErrors.department),e.xp6(3),e.Oqu(e.lcZ(84,90,"Designation")),e.xp6(2),e.s9C("placeholder",e.lcZ(86,92,"Designation")),e.xp6(2),e.Q6J("ngIf",t.formErrors.designation),e.xp6(4),e.Oqu(e.lcZ(92,94,"Father's Name")),e.xp6(2),e.s9C("placeholder",e.lcZ(94,96,"Father`s Name")),e.xp6(2),e.Q6J("ngIf",t.formErrors.fatherName),e.xp6(3),e.Oqu(e.lcZ(99,98,"Mother`s Name")),e.xp6(2),e.s9C("placeholder",e.lcZ(101,100,"Mother`s Name")),e.xp6(2),e.Q6J("ngIf",t.formErrors.motherName),e.xp6(4),e.Oqu(e.lcZ(107,102,"Address")),e.xp6(2),e.s9C("placeholder",e.lcZ(109,104,"Address")),e.xp6(3),e.Q6J("ngIf",t.formErrors.address),e.xp6(3),e.Oqu(e.lcZ(115,106,"City")),e.xp6(2),e.s9C("placeholder",e.lcZ(117,108,"Select City")),e.Q6J("items",t.cities)("virtualScroll",!0),e.xp6(2),e.Q6J("ngIf",t.formErrors.location)}}function le(o,r){if(1&o&&(e.TgZ(0,"div",49),e._uU(1),e.qZA()),2&o){const t=e.oxw(3);e.xp6(1),e.Oqu(t.identityFormErrors.documentOptions)}}function re(o,r){if(1&o&&(e.TgZ(0,"div",49),e._uU(1),e.qZA()),2&o){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.identityFormErrors.documentNumber,"")}}function ae(o,r){if(1&o){const t=e.EpF();e.O4$(),e.TgZ(0,"svg",81),e.NdJ("click",function(){e.CHM(t);const l=e.oxw().index,n=e.oxw(2);return e.KtG(n.removeDocument(l))}),e._UZ(1,"path",82),e.qZA()}}function ne(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",68),e.ynx(1,69),e.TgZ(2,"div",70)(3,"label",71),e._uU(4),e.ALo(5,"translate"),e.qZA(),e._UZ(6,"ng-select",72),e.ALo(7,"translate"),e.YNc(8,le,2,1,"div",21),e.qZA(),e.TgZ(9,"div",70)(10,"label",73),e._uU(11),e.ALo(12,"translate"),e.qZA(),e._UZ(13,"input",74),e.ALo(14,"translate"),e.YNc(15,re,2,1,"div",21),e.qZA(),e.TgZ(16,"div",75)(17,"label",76)(18,"span",77),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"input",78),e.NdJ("change",function(l){const s=e.CHM(t).index,u=e.oxw(2);return e.KtG(u.handleUpload(l,s))}),e.qZA()()(),e.TgZ(22,"div",79),e.YNc(23,ae,2,0,"svg",80),e.qZA(),e.BQk(),e.qZA()}if(2&o){const t=r.index,i=e.oxw(2);e.xp6(1),e.Q6J("formGroupName",t),e.xp6(3),e.Oqu(e.lcZ(5,10,"Document Type")),e.xp6(2),e.s9C("placeholder",e.lcZ(7,12,"Select Document Type")),e.Q6J("items",i.documentOptions),e.xp6(2),e.Q6J("ngIf",i.identityFormErrors.documentOptions),e.xp6(3),e.Oqu(e.lcZ(12,14,"Document Number")),e.xp6(2),e.s9C("placeholder",e.lcZ(14,16,"Document Number")),e.xp6(2),e.Q6J("ngIf",i.identityFormErrors.documentNumber),e.xp6(4),e.Oqu(e.lcZ(20,18,"Choose File")),e.xp6(4),e.Q6J("ngIf",t>0)}}function se(o,r){if(1&o&&(e.TgZ(0,"div",49),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.identityFormErrors.socialSecurityNumber,"")}}function ce(o,r){if(1&o&&(e.TgZ(0,"div",49),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Oqu(t.identityFormErrors.bankName)}}function pe(o,r){if(1&o&&(e.TgZ(0,"div",49),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.identityFormErrors.accountNumber,"")}}function de(o,r){if(1&o&&(e.TgZ(0,"div",49),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.identityFormErrors.ifscCode,"")}}function ue(o,r){if(1&o&&(e.TgZ(0,"div",49),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.identityFormErrors.swiftCode,"")}}function me(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"section",12)(1,"h2",50),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"p",51),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"div"),e.YNc(8,ne,24,20,"div",52),e.TgZ(9,"div",53)(10,"app-button",54),e.NdJ("handleClick",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.newDocument())}),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"div",17)(13,"div",18)(14,"label",55),e._uU(15),e.ALo(16,"translate"),e.qZA(),e._UZ(17,"input",56),e.ALo(18,"translate"),e.YNc(19,se,2,1,"div",21),e.qZA(),e.TgZ(20,"div",57)(21,"div")(22,"label",58),e._uU(23),e.ALo(24,"translate"),e.qZA(),e._UZ(25,"input",59),e.qZA()()(),e.TgZ(26,"h2",50),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"p",51),e._uU(30),e.ALo(31,"translate"),e.qZA(),e.TgZ(32,"div",17)(33,"div",18)(34,"label",60),e._uU(35),e.ALo(36,"translate"),e.qZA(),e._UZ(37,"input",61),e.ALo(38,"translate"),e.YNc(39,ce,2,1,"div",21),e.qZA(),e.TgZ(40,"div",18)(41,"label",62),e._uU(42),e.ALo(43,"translate"),e.qZA(),e._UZ(44,"input",63),e.ALo(45,"translate"),e.YNc(46,pe,2,1,"div",21),e.qZA(),e.TgZ(47,"div",18)(48,"label",64),e._uU(49),e.ALo(50,"translate"),e.qZA(),e._UZ(51,"input",65),e.ALo(52,"translate"),e.YNc(53,de,2,1,"div",21),e.qZA(),e.TgZ(54,"div",18)(55,"label",66),e._uU(56),e.ALo(57,"translate"),e.qZA(),e._UZ(58,"input",67),e.ALo(59,"translate"),e.YNc(60,ue,2,1,"div",21),e.qZA()()()()}if(2&o){const t=e.oxw();e.Q6J("formGroup",t.identityForm),e.xp6(2),e.Oqu(e.lcZ(3,23,"Employee Identification")),e.xp6(3),e.hij(" ",e.lcZ(6,25,"Share the official documents to ease the process"),". "),e.xp6(3),e.Q6J("ngForOf",t.identityForm.get("documents").controls),e.xp6(2),e.Q6J("buttonText",e.lcZ(11,27,"Add Line")),e.xp6(5),e.Oqu(e.lcZ(16,29,"Social Security Number")),e.xp6(2),e.s9C("placeholder",e.lcZ(18,31,"Social Security Number")),e.xp6(2),e.Q6J("ngIf",t.identityFormErrors.socialSecurityNumber),e.xp6(4),e.Oqu(e.lcZ(24,33,"Social Security Applicable")),e.xp6(4),e.Oqu(e.lcZ(28,35,"Bank Details")),e.xp6(3),e.hij(" ",e.lcZ(31,37,"Share the bank related information for automation of process"),". "),e.xp6(5),e.Oqu(e.lcZ(36,39,"Bank Name")),e.xp6(2),e.s9C("placeholder",e.lcZ(38,41,"Bank Name")),e.xp6(2),e.Q6J("ngIf",t.identityFormErrors.bankName),e.xp6(3),e.Oqu(e.lcZ(43,43,"Account Number")),e.xp6(2),e.s9C("placeholder",e.lcZ(45,45,"Account Number")),e.xp6(2),e.Q6J("ngIf",t.identityFormErrors.accountNumber),e.xp6(3),e.Oqu(e.lcZ(50,47,"IFSC/IBAN Code")),e.xp6(2),e.s9C("placeholder",e.lcZ(52,49,"IFSC/IBAN Code")),e.xp6(2),e.Q6J("ngIf",t.identityFormErrors.ifscCode),e.xp6(3),e.Oqu(e.lcZ(57,51,"Swift Code")),e.xp6(2),e.s9C("placeholder",e.lcZ(59,53,"Swift Code")),e.xp6(2),e.Q6J("ngIf",t.identityFormErrors.swiftCode)}}function fe(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"section")(1,"app-salary",83),e.NdJ("updateCalculations",function(l){e.CHM(t);const n=e.oxw();return e.KtG(n.updateCalculations(l))}),e.qZA()()}if(2&o){const t=e.oxw();e.xp6(1),e.Q6J("socialSecurityApplicable",t.identityForm.get("socialSecurityApplicable").value)("salaryForm",t.salaryForm)("firstVisit",t.firstVisit)}}function he(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"app-button",54),e.NdJ("handleClick",function(){e.CHM(t);const l=e.oxw(2);return e.KtG(l.changePage(!1))}),e.ALo(1,"translate"),e.qZA()}2&o&&e.Q6J("buttonText",e.lcZ(1,1,"Go Back"))}function xe(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"app-button",54),e.NdJ("handleClick",function(){e.CHM(t);const l=e.oxw(2);return e.KtG(l.changePage(!0))}),e.ALo(1,"translate"),e.qZA()}2&o&&e.Q6J("buttonText",e.lcZ(1,1,"Next Step"))}function _e(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"app-button",54),e.NdJ("handleClick",function(){e.CHM(t);const l=e.oxw(2);return e.KtG(l.onSubmit())}),e.ALo(1,"translate"),e.qZA()}2&o&&e.Q6J("buttonText",e.lcZ(1,1,"Confirm"))}const ye=function(o){return{"flex-row-reverse":o}};function ge(o,r){if(1&o&&(e.TgZ(0,"div",84),e.YNc(1,he,2,3,"app-button",85),e.YNc(2,xe,2,3,"app-button",85),e.YNc(3,_e,2,3,"app-button",85),e.qZA()),2&o){const t=e.oxw();e.Q6J("ngClass",e.VKq(4,ye,1===t.currentStep)),e.xp6(1),e.Q6J("ngIf",t.currentStep>=2),e.xp6(1),e.Q6J("ngIf",3!==t.currentStep),e.xp6(1),e.Q6J("ngIf",3===t.currentStep)}}let q=(()=>{class o{constructor(t,i,l,n,s,u,f){this.route=t,this.router=i,this.spinner=l,this.toastr=n,this.employeService=s,this.fb=u,this.translateService=f,this.country=localStorage.getItem("country"),this.cities=[],this.departments=["Asset Management","Customer Service","Engineering","Accounting","General Management","Human Resource","Legal","Marketing","Production","Purchase","Sales","Quality Assurance"],this.documents=[],this.currentStep=1,this.lastPage=!1,this.firstVisit=!0,this.incomeTax=0,this.nationalContribution=0,this.update=!1,this.employeId="",this.fields=["fixedIncome","variableIncome","fixedDeductibles","variableDeductibles"],this.fieldNames={fixedIncome:"Fixed Income",variableIncome:"Variable Income",fixedDeductibles:"Fixed Deductibles",variableDeductibles:"Variable Deductibles"},this.today=p().format("YYYY-MM-DD"),this.options=["Male","Female","Others"],this.documentOptions=["Passport","Driving License","National ID"],this.formErrors={empCode:"",firstName:"",middleName:"",lastName:"",address:"",dob:"",designation:"",department:"",location:"",gender:"",email:"",contactNo:"",fatherName:"",motherName:"",dateOfJoining:""},this.identityFormErrors={documentType:"",documentNumber:"",socialSecurityNumber:"",bankName:"",accountNumber:"",ifscCode:""},this.identityFormErrorMessages={documentType:{required:"Document Type is required"},documentNumber:{required:"Document Number is required"},socialSecurityNumber:{required:"Social Security Number is required"},bankName:{required:"Bank Name is required"},accountNumber:{required:"Account Number is required"},ifscCode:{required:"IFSC code is required"}},this.formErrorMessages={firstName:{required:"First Name  is required"},lastName:{required:"Last Name is required"},fatherName:{required:"Father's Name is required"},motherName:{required:"Mother's Name is required"},contactNo:{required:"Mobile Number is required",min:"Mobile Number must be of atleast 10 digits"},email:{required:"Email is required",pattern:"Invalid Email Address"},address:{required:"Address is required"},empCode:{required:"Employee Code required"},dateOfJoining:{required:"Date of Joining is required"},salary:{required:"Annual CTC is required",min:"Annual CTC should be greater than 0"},dob:{required:"Date of Birth is required"},gender:{required:"Gender is required"},designation:{required:"Designation is required"},department:{required:"Department is required"},location:{required:"Location is required"}}}ngOnInit(){this.getAllCities(),this.createForm(),this.createIdentityForm(),this.createSalaryForm(),this.spinner.show(),this.route.queryParams.subscribe(t=>{t?.id?(this.employeId=t?.id,"false"==t?.new&&(this.update=!0),this.getEmployeById()):this.spinner.hide()},t=>{this.toastr.error(this.translateService.instant(t?.error?.error)),this.spinner.hide()})}getAllCities(){this.employeService.getCitiesByCountry(this.country).subscribe(t=>{t?.error||(this.cities=t?.data)})}getEmployeById(){this.employeService.getEmployeById(this.employeId).subscribe(t=>{t?.success?(this.employeDetails=t?.data,this.employeForm.patchValue({firstName:this.employeDetails?.firstName,middleName:this.employeDetails?.middleName,lastName:this.employeDetails?.lastName,empCode:this.employeDetails?.empCode,email:this.employeDetails?.email,contactNo:this.employeDetails?.contactNo,country:this.employeDetails?.country,dob:this.employeDetails?.dob,dateOfJoining:this.employeDetails?.dateOfJoining,address:this.employeDetails?.address,fatherName:this.employeDetails?.fatherName,motherName:this.employeDetails?.motherName,designation:this.employeDetails?.designation,department:this.employeDetails?.department,location:this.employeDetails?.location}),this.identityForm.patchValue({bankName:this.employeDetails?.bankDetails?.bankName,accountNumber:this.employeDetails?.bankDetails?.accountNumber,ifscCode:this.employeDetails?.bankDetails?.ifscCode,swiftCode:this.employeDetails?.bankDetails?.swiftCode,socialSecurityNumber:this.employeDetails?.employeeIdentity?.socialSecurityNumber,socialSecurityApplicable:this.employeDetails?.employeeIdentity?.socialSecurityApplicable??!0}),this.employeDetails?.employeeIdentity?.documents?.forEach(i=>this.newDocument(i))):this.toastr.error(this.translateService.instant(t?.message))},t=>{this.toastr.error(this.translateService.instant(t?.error?.error))},()=>this.spinner.hide())}createForm(){this.employeForm=this.fb.group({firstName:["",a.kI.required],lastName:["",a.kI.required],middleName:[""],empCode:["",a.kI.required],email:["",[a.kI.required,a.kI.pattern(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/)]],contactNo:["",[a.kI.required,a.kI.min(1e9)]],designation:["",a.kI.required],department:[null,a.kI.required],location:[null,a.kI.required],dateOfJoining:[p().format("YYYY-MM-DD"),a.kI.required],dob:[p().subtract(24,"year").format("YYYY-MM-DD"),a.kI.required],gender:["Male",a.kI.required],fatherName:["",a.kI.required],motherName:["",a.kI.required],address:["",a.kI.required]}),this.employeForm.valueChanges.subscribe(()=>{this.formErrors=(0,m.tm)(this.employeForm,this.formErrors,this.formErrorMessages,this.translateService)}),this.formErrors=(0,m.tm)(this.employeForm,this.formErrors,this.formErrorMessages,this.translateService)}createIdentityForm(){this.identityForm=this.fb.group({documents:this.fb.array([]),socialSecurityNumber:["",a.kI.required],socialSecurityApplicable:[!0],bankName:["",a.kI.required],ifscCode:["",a.kI.required],accountNumber:["",a.kI.required],swiftCode:[""]}),this.newDocument(),this.identityFormErrors=(0,m.tm)(this.identityForm,this.identityFormErrors,this.identityFormErrorMessages,this.translateService),this.identityForm.valueChanges.subscribe(()=>{this.identityFormErrors=(0,m.tm)(this.identityForm,this.identityFormErrors,this.identityFormErrorMessages,this.translateService)})}createSalaryForm(){this.salaryForm=this.fb.group({applicableDate:[p().format("YYYY-MM-DD"),a.kI.required],salary:[0,a.kI.required],socialSalary:[0],variableIncome:this.fb.array([]),variableDeductibles:this.fb.array([]),fixedIncome:this.fb.array([]),fixedDeductibles:this.fb.array([])})}newDocument(t){this.identityForm.get("documents").push(this.addDocument(t??null))}addDocument(t){return this.fb.group({documentType:[t?.documentType??null,a.kI.required],documentNumber:[t?.documentNumber??"",a.kI.required]})}removeDocument(t){this.identityForm.get("documents").removeAt(t),this.documents.splice(t,1)}handleUpload(t,i){this.documents.at(i)?this.documents.splice(i,1,t?.target?.files[0]):this.documents.push(t?.target?.files[0])}changePage(t){let i={1:this.formErrors,2:this.identityFormErrors},l={1:this.formErrorMessages,2:this.identityFormErrorMessages},n=1===this.currentStep?this.employeForm:this.identityForm;if(n.invalid&&t)return n.markAllAsTouched(),void(i=(0,m.tm)(n,i[this.currentStep],l[this.currentStep]));t?this.currentStep+=1:(3===this.currentStep&&this.firstVisit&&(this.firstVisit=!1),this.currentStep-=1)}onSubmit(){if(this.identityForm.invalid)return this.identityForm.markAllAsTouched(),void(this.identityFormErrors=(0,m.tm)(this.identityForm,this.identityFormErrors,this.identityFormErrorMessages));let t=this.salaryForm.value;this.fields.forEach(n=>{t[n]=t[n].map(s=>"Income Tax"===s?.name?{...s,amount:this.incomeTax}:"National Contribution"===s?.name?{...s,amount:this.nationalContribution}:{...s,amount:s?.isPercentage?s?.value*("Social Security"===s?.name?t?.socialSalary:t?.salary)/100:s?.value})});let i={...this.employeForm.value,dateOfJoining:this.employeForm.value.dateOfJoining,designation:this.employeForm.value.designation,department:this.employeForm.value.department,location:this.employeForm.value.location,employeeIdentity:{socialSecurityNumber:this.identityForm.value?.socialSecurityNumber,socialSecurityApplicable:this.identityForm.value?.socialSecurityApplicable,documents:this.identityForm.value?.documents},bankDetail:{bankName:this.identityForm.value.bankName,ifscCode:this.identityForm.value.ifscCode,accountNumber:this.identityForm.value.accountNumber,swiftCode:this.identityForm.value.swiftCode},salaryDetails:t};i={...i,employeeIdentity:{...i?.employeeIdentity,documents:i.employeeIdentity?.documents}};let l=new FormData;this.documents.forEach((n,s)=>{l.append(`file${s}`,n)}),l.append("employeeDetails",JSON.stringify(i)),this.spinner.show(),this.employeService.addEmploye(l).subscribe(n=>{n?.success?(this.toastr.success(this.translateService.instant(n?.message)),this.router.navigate(["/pages/employes"])):this.toastr.error(this.translateService.instant(n?.message))},n=>{this.toastr.error(this.translateService.instant(n?.error?.error))},()=>this.spinner.hide())}updateCalculations(t){const{incomeTax:i,nationalContribution:l}=t;this.incomeTax=i,this.nationalContribution=l}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(h.gz),e.Y36(h.F0),e.Y36(_.t2),e.Y36(y._W),e.Y36(Z.m),e.Y36(a.qu),e.Y36(x.sK))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-add"]],decls:15,vars:8,consts:[[1,"space-y-8"],[1,"bg-white","pb-6","flex","flex-col","rounded-3xl"],[1,"flex","items-center","justify-between","p-6"],[1,"Gilroy-Bold","text-lg"],[1,"bg-white","flex","justify-center"],[1,"top-[6.25rem]","rounded-lg","bg-neutral-white","py-8","px-6","mx-5","xl:flex","xl:flex-col","w-full","xl:p-7"],[1,"hidden","xl:block","xl:ms-8",3,"currentStep"],[1,"w-full","mt-5"],[1,"xl:flex","xl:flex-col","xl:justify-between","mt-10"],[3,"formGroup",4,"ngIf"],[4,"ngIf"],["class"," bottom-0 w-full left-0 p-5 text-base flex justify-between bg-neutral-white mb-5 mt-5 ",3,"ngClass",4,"ngIf"],[3,"formGroup"],[1,"text-2xl","mb-2","font-bold","xl:text-3xl"],[1,"text-neutral-cool-gray","mb-5","xl:mb-8"],[1,"rounded-3xl","px-8","box-shadow-sales","bg-white","mt-2","mb-4"],[1,"space-y-6","w-full"],[1,"flex","space-x-8","rtl:space-x-reverse","w-full"],[1,"w-1/5","mb-4"],["for","firstName",1,"block","text-sm","Gilroy-Bold","font-color-05"],["type","","id","firstName","formControlName","firstName",1,"bg-input","h-12","rounded-xl","w-full","border","placeholder:p-2","px-2","py-1",3,"placeholder"],["class","text-sm text-red-500 ms-2 mt-1",4,"ngIf"],["for","middleName",1,"block","text-sm","Gilroy-Bold","font-color-05"],["id","middleName","formControlName","middleName","type","",1,"bg-input","h-12","rounded-xl","w-full","border","placeholder:p-2","px-2","py-1",3,"placeholder"],["for","lastName",1,"block","text-sm","Gilroy-Bold","font-color-05"],["id","lastName","formControlName","lastName","type","",1,"bg-input","h-12","rounded-xl","w-full","border","placeholder:p-2","px-2","py-1",3,"placeholder"],["for","empCode",1,"block","text-sm","Gilroy-Bold","font-color-05"],["id","empCode","formControlName","empCode","type","text",1,"bg-input","h-12","rounded-xl","border","placeholder:p-2","w-full","px-2","py-1",3,"placeholder"],["for","email",1,"block","text-sm","Gilroy-Bold","font-color-05"],["id","email","formControlName","email","type","",1,"bg-input","h-12","rounded-xl","w-full","border","placeholder:p-2","px-2","py-1",3,"placeholder"],["for","dateOfJoining",1,"block","text-sm","Gilroy-Bold","font-color-05"],["id","dob","formControlName","dateOfJoining","type","date",1,"bg-input","h-12","rounded-xl","w-full","border","placeholder:p-2","px-2","py-1"],["for","mobileNumber",1,"block","text-sm","Gilroy-Bold","font-color-05"],["id","mobileNumber","formControlName","contactNo","type","number","min","1000000000",1,"bg-input","h-12","rounded-xl","w-full","border","placeholder:p-2","px-2","py-1",3,"placeholder"],["for","dob",1,"block","text-sm","Gilroy-Bold","font-color-05"],["id","dob","formControlName","dob","type","date",1,"bg-input","h-12","rounded-xl","w-full","border","placeholder:p-2","px-2","py-1"],["for","gender",1,"block","text-sm","Gilroy-Bold","font-color-05"],["formControlName","gender",1,"custom-selector",3,"items","placeholder"],["addTag","true","formControlName","department",1,"custom-selector",3,"items","placeholder"],["for","designation",1,"block","text-sm","Gilroy-Bold","font-color-05"],["type","","id","designation","formControlName","designation",1,"bg-input","h-12","rounded-xl","w-full","border","placeholder:p-2","px-2","py-1",3,"placeholder"],["for","fatherName",1,"block","text-sm","Gilroy-Bold","font-color-05"],["type","","id","fatherName","formControlName","fatherName",1,"bg-input","h-12","rounded-xl","w-full","border","placeholder:p-2","px-2","py-1",3,"placeholder"],["for","motherName",1,"block","text-sm","Gilroy-Bold","font-color-05"],["id","motherName","formControlName","motherName","type","",1,"bg-input","h-12","rounded-xl","w-full","border","placeholder:p-2","px-2","py-1",3,"placeholder"],["for","address",1,"block","text-sm","Gilroy-Bold","font-color-05"],["id","address","formControlName","address","type","",1,"bg-input","h-24","rounded-xl","w-full","border","placeholder:p-2","px-2","py-1",3,"placeholder"],["for","location",1,"block","text-sm","Gilroy-Bold","font-color-05"],["addTag","true","formControlName","location",1,"custom-selector",3,"items","virtualScroll","placeholder"],[1,"text-sm","text-red-500","ms-2","mt-1"],[1,"text-2xl","font-bold","mb-2","xl:text-3xl"],[1,"text-neutral-cool-gray","mb-5","xl:mb-7"],["formArrayName","documents","class","flex space-x-8 rtl:space-x-reverse w-full",4,"ngFor","ngForOf"],[1,"mb-4"],["type","third",3,"buttonText","handleClick"],["for","socialSecurity",1,"block","text-sm","Gilroy-Bold","font-color-05"],["id","socialSecurity","formControlName","socialSecurityNumber","type","",1,"bg-input","h-12","rounded-xl","w-full","border","placeholder:p-2","px-2","py-1",3,"placeholder"],[1,"w-1/5","mb-4","flex","justify-center","items-center"],["for","flexSwitchCheckDefault",1,"inline-block","hover:cursor-pointer"],["type","checkbox","role","switch","id","flexSwitchCheckDefault","formControlName","socialSecurityApplicable",1,"mt-[0.3rem]","ms-2","me-2","h-3.5","w-8","appearance-none","rounded-[0.4375rem]","bg-[rgba(0,0,0,0.25)]","outline-none","before:pointer-events-none","before:absolute","before:h-3.5","before:w-3.5","before:rounded-full","before:bg-transparent","before:content-['']","after:absolute","after:z-[2]","after:-mt-[0.1875rem]","after:h-5","after:w-5","after:rounded-full","after:border-none","after:bg-white","after:shadow-[0_0px_3px_0_rgb(0_0_0_/_7%),_0_2px_2px_0_rgb(0_0_0_/_4%)]","after:transition-[background-color_0.2s,transform_0.2s]","after:content-['']","checked:bg-primary","checked:after:absolute","checked:after:z-[2]","checked:after:-mt-[3px]","checked:after:ms-[1.0625rem]","checked:after:h-5","checked:after:w-5","checked:after:rounded-full","checked:after:border-none","checked:after:bg-primary","checked:after:shadow-[0_3px_1px_-2px_rgba(0,0,0,0.2),_0_2px_2px_0_rgba(0,0,0,0.14),_0_1px_5px_0_rgba(0,0,0,0.12)]","checked:after:transition-[background-color_0.2s,transform_0.2s]","checked:after:content-['']","hover:cursor-pointer","focus:before:scale-100","focus:before:opacity-[0.12]","focus:before:shadow-[3px_-1px_0px_13px_rgba(0,0,0,0.6)]","focus:before:transition-[box-shadow_0.2s,transform_0.2s]","focus:after:absolute","focus:after:z-[1]","focus:after:block","focus:after:h-5","focus:after:w-5","focus:after:rounded-full","focus:after:content-['']","checked:focus:border-primary","checked:focus:bg-primary","checked:focus:before:ms-[1.0625rem]","checked:focus:before:scale-100","checked:focus:before:shadow-[3px_-1px_0px_13px_#3b71ca]","checked:focus:before:transition-[box-shadow_0.2s,transform_0.2s]"],["for","bankName",1,"block","text-sm","Gilroy-Bold","font-color-05"],["id","bankName","formControlName","bankName","type","",1,"bg-input","h-12","rounded-xl","w-full","border","placeholder:p-2","px-2","py-1",3,"placeholder"],["for","accountNumber",1,"block","text-sm","Gilroy-Bold","font-color-05"],["id","accountNumber","formControlName","accountNumber","type","number",1,"bg-input","h-12","rounded-xl","w-full","border","placeholder:p-2","px-2","py-1",3,"placeholder"],["for","ifscCode",1,"block","text-sm","Gilroy-Bold","font-color-05"],["id","ifscCode","formControlName","ifscCode","type","",1,"bg-input","h-12","rounded-xl","w-full","border","placeholder:p-2","px-2","py-1",3,"placeholder"],["for","swiftCode",1,"block","text-sm","Gilroy-Bold","font-color-05"],["id","swiftCode","formControlName","swiftCode","type","number","min","0",1,"bg-input","h-12","rounded-xl","w-full","border","placeholder:p-2","px-2","py-1",3,"placeholder"],["formArrayName","documents",1,"flex","space-x-8","rtl:space-x-reverse","w-full"],[3,"formGroupName"],[1,"w-1/5","mb-2"],["for","documentType",1,"block","text-sm","Gilroy-Bold","font-color-05"],["addTag","true","formControlName","documentType",1,"custom-selector",3,"items","placeholder"],["for","documentNumber",1,"block","text-sm","Gilroy-Bold","font-color-05"],["id","documentNumber","formControlName","documentNumber","type","",1,"bg-input","h-12","rounded-xl","w-full","border","placeholder:p-2","px-2","py-1",3,"placeholder"],[1,"mb-2","self-center"],[1,"block"],[1,"sr-only"],["type","file",1,"block","w-full","text-sm","text-gray-500","file:me-4","file:py-2","file:px-4","file:rounded-full","file:border-0","file:text-sm","file:font-semibold","file:bg-blue-50","file:text-blue-700","hover:file:bg-blue-100",3,"change"],[1,"self-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor","class","ms-3 w-7 h-7",3,"click",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"ms-3","w-7","h-7",3,"click"],["stroke-linecap","round","stroke-linejoin","round","d","M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[3,"socialSecurityApplicable","salaryForm","firstVisit","updateCalculations"],[1,"bottom-0","w-full","left-0","p-5","text-base","flex","justify-between","bg-neutral-white","mb-5","mt-5",3,"ngClass"],["type","third",3,"buttonText","handleClick",4,"ngIf"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),e._uU(4),e.ALo(5,"translate"),e.qZA()()()(),e.TgZ(6,"div",4)(7,"div",5),e._UZ(8,"app-stepper",6)(9,"hr",7),e.TgZ(10,"div",8),e.YNc(11,ie,119,110,"section",9),e.YNc(12,me,61,55,"section",9),e.YNc(13,fe,2,3,"section",10),e.YNc(14,ge,4,6,"div",11),e.qZA()()()),2&t&&(e.xp6(4),e.Oqu(e.lcZ(5,6,"Add New Employe")),e.xp6(4),e.Q6J("currentStep",i.currentStep),e.xp6(3),e.Q6J("ngIf",1===i.currentStep),e.xp6(1),e.Q6J("ngIf",2===i.currentStep),e.xp6(1),e.Q6J("ngIf",3===i.currentStep),e.xp6(1),e.Q6J("ngIf",!i.lastPage))},dependencies:[d.mk,d.sg,d.O5,g.r,E,a.Fj,a.wV,a.Wl,a.JJ,a.JL,a.qQ,a.sg,a.u,a.x0,a.CE,v.w9,M,x.X$],styles:["input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}"]}),o})();var be=c(5531),Ze=c(2817),ve=c(5262),w=c(6762);function Ae(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"td",8)(1,"div")(2,"app-dropdown",null,9)(4,"div",10),e.NdJ("click",function(){e.CHM(t);const l=e.MAs(3);return e.KtG(l.open=!0)})("clickOutside",function(){e.CHM(t);const l=e.MAs(3);return e.KtG(l.open=!1)}),e.TgZ(5,"div",11),e.O4$(),e.TgZ(6,"svg",12),e._UZ(7,"path",13),e.qZA()()(),e.kcU(),e.TgZ(8,"div",14)(9,"span",15),e.NdJ("click",function(){const n=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.viewEmploye(n._id))}),e._uU(10),e.ALo(11,"translate"),e.qZA()()()()()}2&o&&(e.xp6(10),e.Oqu(e.lcZ(11,1,"View")))}let Ce=(()=>{class o{constructor(t,i,l,n,s,u){this.employeService=t,this.router=i,this.spinner=l,this.toast=n,this.translationService=s,this.languageService=u,this.employes=[],this.tableKeys=["name","empCode","contactNo","email","dateOfJoining"],this.tableHeadings=this.languageService.translateArray(["Employe Name","Employe Code","Contact No.","Email","Date of Joining","Action"]),this.settingsConfigured=!1}ngOnInit(){this.getAllEmployes(),this.settingsConfigured=JSON.parse(localStorage.getItem("settingConfigured")),console.log(this.settingsConfigured)}getAllEmployes(){this.spinner.show(),this.employeService.getAllEmployes().subscribe(t=>{t?.success?this.employes=t?.data?.map(i=>({...i,name:i?.firstName+" "+i?.lastName,dateOfJoining:p(i?.dateOfJoining).format("YYYY-MM-DD")}))??[]:this.toast.error(t?.message)},t=>{this.toast.error(t?.error?.error)},()=>this.spinner.hide())}viewEmploye(t){this.router.navigate(["/pages/employes/view"],{queryParams:{id:t}})}completeProfile(t){this.router.navigate(["/pages/employes/add"],{queryParams:{id:t,new:!0}})}deleteEmploye(t){this.spinner.show(),this.employeService.deleteEmploye(t).subscribe(i=>{i?.success?(this.employes=this.employes.filter(l=>l?._id!=t),this.toast.success(i?.message)):this.toast.error(this.translationService.instant(i?.message))},i=>{this.toast.error(this.translationService.instant(i?.error?.error))},()=>this.spinner.hide())}createEmploye(){this.settingsConfigured?this.toast.error("You must configure payroll setting before creating employees"):this.router.navigate(["/pages/employes/add"])}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(Z.m),e.Y36(h.F0),e.Y36(_.t2),e.Y36(y._W),e.Y36(x.sK),e.Y36(be.T))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-list"]],decls:12,vars:10,consts:[[1,"space-y-8"],[1,"bg-white","pb-6","flex","flex-col","rounded-3xl"],[1,"flex","items-center","justify-between","p-6"],[1,"Gilroy-Bold","text-lg"],["type","primary","rounded","true",3,"buttonText","handleClick"],[1,"mx-4"],[3,"tableData","keys","tableHeadings","actionTemplate"],["actionTemplate",""],["align","right",1,"p-2","last:pe-10","text-start"],["dropdown",""],["button","",3,"click","clickOutside"],[1,"h-8","w-8","rounded-full","flex","justify-center","items-center","bg-gray-50","border","border-gray-200"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-4","w-4","m-auto","leading-8","text-center"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 9l-7 7-7-7"],["options","",1,"shadow","rounded-xl"],[1,"cursor-pointer","block","px-4","py-2","text-sm","Gilroy-Bold","hover:bg-gray-50","hover:rounded-xl","text-center",3,"click"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"app-button",4),e.NdJ("handleClick",function(){return i.createEmploye()}),e.ALo(7,"translate"),e.qZA()(),e.TgZ(8,"div",5)(9,"app-table-container",6),e.YNc(10,Ae,12,3,"ng-template",null,7,e.W1O),e.qZA()()()()),2&t){const l=e.MAs(11);e.xp6(4),e.Oqu(e.lcZ(5,6,"Employe List")),e.xp6(2),e.Q6J("buttonText",e.lcZ(7,8,"Create Employe")),e.xp6(3),e.Q6J("tableData",i.employes)("keys",i.tableKeys)("tableHeadings",i.tableHeadings)("actionTemplate",l)}},dependencies:[g.r,Ze.J,ve._,w.t,x.X$]}),o})();function qe(o,r){if(1&o&&(e.TgZ(0,"div",25),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Oqu(t.formErrors.applicableDate)}}function we(o,r){if(1&o&&(e.TgZ(0,"div",25),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Oqu(t.formErrors.socialSalary)}}function Ne(o,r){if(1&o&&(e.TgZ(0,"div",26)(1,"label",7),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"fieldset",27),e._UZ(5,"input",28),e.YNc(6,we,2,1,"div",10),e.qZA()()),2&o){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,2,"Monthly Social Salary")),e.xp6(4),e.Q6J("ngIf",t.formErrors.socialSalary)}}function Te(o,r){if(1&o&&(e.TgZ(0,"div",25),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Oqu(t.formErrors.salary)}}function De(o,r){if(1&o&&(e.TgZ(0,"p",19),e._uU(1),e.qZA()),2&o){const t=e.oxw(3);let i;e.xp6(1),e.Oqu(null!==(i=t.incomeTax)&&void 0!==i?i:0)}}function Se(o,r){if(1&o&&(e.TgZ(0,"p",19),e._uU(1),e.qZA()),2&o){const t=e.oxw(3);let i;e.xp6(1),e.Oqu(null!==(i=t.nationalContribution)&&void 0!==i?i:0)}}function ke(o,r){if(1&o&&(e.TgZ(0,"p",19),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit,i=e.oxw(2);e.xp6(1),e.Oqu(!0===(null==t||null==t.curr?null:t.curr.isPercentage)?(null==t||null==t.curr?null:t.curr.value)*i.salaryForm.get("socialSalary").value/100:null==t||null==t.curr?null:t.curr.value)}}function Ee(o,r){if(1&o&&(e.TgZ(0,"p",19),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit,i=e.oxw(2);e.xp6(1),e.Oqu(!0===(null==t||null==t.curr?null:t.curr.isPercentage)?(null==t||null==t.curr?null:t.curr.value)*i.salary/100:null==t||null==t.curr?null:t.curr.value)}}function Ue(o,r){if(1&o&&(e.ynx(0),e.TgZ(1,"div",36)(2,"div",17)(3,"span",11),e._uU(4),e.qZA()(),e.TgZ(5,"div",18)(6,"div",33)(7,"p",19),e._uU(8),e.qZA(),e.TgZ(9,"p",19),e._uU(10),e.qZA()(),e.TgZ(11,"div",37)(12,"p",19),e._uU(13),e.qZA(),e.YNc(14,De,2,1,"p",38),e.YNc(15,Se,2,1,"p",38),e.YNc(16,ke,2,1,"p",38),e.YNc(17,Ee,2,1,"p",39),e.qZA()()(),e.BQk()),2&o){const t=r.$implicit;e.xp6(4),e.Oqu(null==t?null:t.name),e.xp6(4),e.Oqu(null!=t&&null!=t.prev&&t.prev.isPercentage?(null==t||null==t.prev?null:t.prev.value)+"%":"-"),e.xp6(2),e.Oqu(null==t||null==t.prev?null:t.prev.amount),e.xp6(1),e.Q6J("ngSwitch",null==t?null:t.name),e.xp6(2),e.Oqu(null!=t&&null!=t.curr&&t.curr.isPercentage?(null==t||null==t.curr?null:t.curr.value)+"%":"-"),e.xp6(1),e.Q6J("ngSwitchCase","Income Tax"),e.xp6(1),e.Q6J("ngSwitchCase","National Contribution"),e.xp6(1),e.Q6J("ngSwitchCase","Social Security")}}function Fe(o,r){if(1&o&&(e.TgZ(0,"div",29)(1,"div",30),e._uU(2),e.qZA(),e.TgZ(3,"div",31)(4,"div",32)(5,"div",17)(6,"span",20),e._uU(7),e.ALo(8,"translate"),e.qZA()(),e.TgZ(9,"div",18)(10,"div",33)(11,"p",19),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"p",19),e._uU(15),e.ALo(16,"translate"),e.qZA()(),e.TgZ(17,"div",33)(18,"p",19),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"p",19),e._uU(22),e.ALo(23,"translate"),e.qZA()()()(),e._UZ(24,"hr",34),e.ynx(25),e.YNc(26,Ue,18,8,"ng-container",35),e.BQk(),e.qZA()()),2&o){const t=r.$implicit,i=e.oxw();e.xp6(2),e.hij(" ",i.fieldNames[t]," "),e.xp6(5),e.Oqu(e.lcZ(8,7,"")),e.xp6(5),e.Oqu(e.lcZ(13,9,"Percentage")),e.xp6(3),e.Oqu(e.lcZ(16,11,"Value")),e.xp6(4),e.Oqu(e.lcZ(20,13,"Percentage")),e.xp6(3),e.Oqu(e.lcZ(23,15,"Value")),e.xp6(4),e.Q6J("ngForOf",i.tableData[t])}}let Ie=(()=>{class o{constructor(t,i,l,n,s,u,f,b){this.route=t,this.router=i,this.employeService=l,this.settingService=n,this.spinner=s,this.toast=u,this.fb=f,this.translationService=b,this.latestTaxSlabs=[],this.latestNC=[],this.employeId="",this.incomeTax=0,this.nationalContribution=0,this.socialSecurity=0,this.salary=0,this.socialSecurityApplicable=!1,this.today=p().format("YYYY-MM-DD"),this.tableData={fixedIncome:[],variableIncome:[],fixedDeductibles:[],variableDeductibles:[]},this.fields=["fixedIncome","variableIncome","fixedDeductibles","variableDeductibles"],this.fieldNames={fixedIncome:"Fixed Income",variableIncome:"Variable Income",fixedDeductibles:"Fixed Deductibles",variableDeductibles:"Variable Deductibles"},this.formErrors={applicableDate:"",salary:"",socialSalary:""},this.formErrorMessages={applicableDate:{required:"Applicable date is required"},salary:{required:"Montly Salary is required",min:"Montly salary should be greater than 0"},socialSalary:{required:"Social Salary is required",min:"Social salary should be greater than 0"}}}ngOnInit(){this.createSalaryForm(),this.route.queryParams.subscribe(t=>{t.id?(this.employeId=t.id,this.getEmployeSalaries(t.id),this.getCurrentNC(),this.getCurrentTaxSlab()):(this.toast.error(this.translationService.instant("Employe id not available")),this.router.navigate(["/pages/employes"]))},t=>{this.toast.error(this.translationService.instant("Something went wrong")),this.router.navigate(["/pages/employes"])})}createSalaryForm(){this.salaryForm=this.fb.group({applicableDate:[p().format("YYYY-MM-DD"),a.kI.required],salary:[0,[a.kI.required,a.kI.min(1)]],socialSalary:[0]}),this.salaryForm.valueChanges.subscribe(()=>{this.formErrors=(0,m.tm)(this.salaryForm,this.formErrors,this.formErrorMessages,this.translationService)}),this.formErrors=(0,m.tm)(this.salaryForm,this.formErrors,this.formErrorMessages,this.translationService)}getCurrentTaxSlab(){this.settingService.getLatestTaxSlab().subscribe(t=>{t?.success?this.latestTaxSlabs=t?.data?.range:this.toast.error(t?.message)},t=>this.toast.error(t?.error?.message),()=>this.spinner.hide())}getCurrentNC(){this.settingService.getLatestNC().subscribe(t=>{t?.success?this.latestNC=t?.data?.range:this.toast.error(t?.message)},t=>this.toast.error(t?.error?.message),()=>this.spinner.hide())}getEmployeSalaries(t){this.spinner.show(),this.employeService.getApplicableSalaryDetails(t).subscribe(i=>{if(i?.success){let{currentBreakdown:l,latestBreakdown:n,empDetails:s}=i?.data;this.currentBreakdown=l,this.latestBreakdown=n,s?.employeeIdentity?.socialSecurityApplicable&&(console.log("inside if",s?.employeeIdentity),this.socialSecurityApplicable=s?.employeeIdentity?.socialSecurityApplicable,this.salaryForm.get("socialSalary").addValidators([a.kI.required,a.kI.min(1)])),this.fields.forEach(u=>{n[u]?.forEach(f=>{let b=l[u]?.find(wt=>wt?.name===f?.name);this.tableData[u].push({name:f?.name,prev:{isPercentage:b?.isPercentage??!1,value:b?.value??0,amount:b?.amount??0},curr:{isPercentage:f?.isPercentage,value:f?.value??0,amount:f?.amount??0}})})})}else this.toast.error(this.translationService.instant(i?.message)),this.router.navigate(["/pages/employes/view"],{queryParams:{id:t}})},i=>{this.toast.error(i?.error?.error),this.router.navigate(["/pages/employes/view"],{queryParams:{id:t}})},()=>this.spinner.hide())}updateSalary(){if(this.salaryForm.invalid)return this.salaryForm.markAllAsTouched(),void(this.formErrors=(0,m.tm)(this.salaryForm,this.formErrors,this.formErrorMessages,this.translationService));this.spinner.show(),this.incomeTax=0,this.nationalContribution=0;let t=this.salaryForm.get("salary").value,i=this.salaryForm.get("salary").value;for(let l=0;l<this.latestTaxSlabs.length;l++){let n=this.latestTaxSlabs[l].end-(this.latestTaxSlabs[l].start>0?this.latestTaxSlabs[l].start-1:this.latestTaxSlabs[l].start);if(t<=0)break;t<=n?(this.incomeTax+=t*this.latestTaxSlabs[l].percent/100,t=0):(this.incomeTax+=n*this.latestTaxSlabs[l].percent/100,t-=n)}for(let l=0;l<this.latestNC.length;l++){let n=this.latestNC[l].end-(this.latestNC[l].start>0?this.latestNC[l].start-1:this.latestNC[l].start);if(i<=0)break;i<=n?(this.nationalContribution+=i*this.latestNC[l].percent/100,i=0):(this.nationalContribution+=n*this.latestNC[l].percent/100,i-=n)}this.salary=this.salaryForm.get("salary").value??0,this.socialSecurity=this.salaryForm.get("socialSalary").value,setTimeout(()=>{this.spinner.hide()},2e3)}reviseSalary(){if(this.salaryForm.invalid)return this.salaryForm.markAllAsTouched(),void(this.formErrors=(0,m.tm)(this.salaryForm,this.formErrors,this.formErrorMessages,this.translationService));let t={...this.salaryForm.value,...this.latestBreakdown,applicableDate:p(this.salaryForm.value?.applicableDate).format("YYYY-MM-DD")};this.fields.forEach(i=>{t[i]=t[i]?.map(l=>{switch(l?.name){case"Income Tax":l.amount=this.incomeTax;break;case"National Contribution":l.amount=this.nationalContribution;break;case"Social Security":l.amount=!0===l.isPercentage?l?.value*this.salaryForm.get("socialSalary").value/100:l?.value,l.companyAmount=!0===l.isPercentage?l?.companyValue*this.salaryForm.get("socialSalary").value/100:l?.companyValue;break;default:l.amount=l?.isPercentage?l?.value*this.salary/100:l?.value}return l})}),this.spinner.show(),this.employeService.reviseSalary(this.employeId,t).subscribe(i=>{i?.success?(this.toast.success(this.translationService.instant(i?.message)),this.router.navigate(["/pages/employes/view"],{queryParams:{id:this.employeId}})):this.toast.error(this.translationService.instant(i?.message))},i=>{this.toast.error(this.translationService.instant(i?.error?.error))},()=>this.spinner.hide())}closeForm(){this.router.navigate(["/pages/employes"])}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(h.gz),e.Y36(h.F0),e.Y36(Z.m),e.Y36(C.R),e.Y36(_.t2),e.Y36(y._W),e.Y36(a.qu),e.Y36(x.sK))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-revise-salary"]],decls:50,vars:34,consts:[[1,"space-y-6"],[1,"bg-white","flex","flex-col","rounded-3xl"],[1,"flex","items-center","justify-between","px-4","py-3"],[1,"Gilroy-Bold","text-lg"],[1,"space-y-4","mt-2","mb-6",3,"formGroup"],[1,"flex","bg-white","justify-between","rounded-3xl","px-4","pt-4"],[1,"flex","w-1/5","items-center","justify-center","space-x-2","rtl:space-x-reverse"],[1,"Gilroy-Bold"],[1,"w-2/4"],["formControlName","applicableDate","type","date",1,"bg-input","border-[1px]","h-11","p-1",3,"min"],["class","text-red-500",4,"ngIf"],[1,""],["class","flex w-1/5 items-center space-x-2 rtl:space-x-reverse",4,"ngIf"],["formControlName","salary","type","number","min","0",1,"bg-input","border-[1px]","h-11","p-1"],["type","primary",3,"buttonText","handleClick"],[1,"w-full","flex","flex-col","justify-center","bg-white","p-2"],[1,"flex"],[1,"w-1/4"],[1,"flex","flex-1"],[1,"w-1/2","text-center"],[1,"font-semibold"],["class","w-full my-4 space-x-4 rtl:space-x-reverse",4,"ngFor","ngForOf"],[1,"flex","space-x-2","rtl:space-x-reverse"],["tabindex","6","type","primary","rounded","true",1,"me-2",3,"buttonText","handleClick"],["tabindex","7","type","third","rounded","true",3,"buttonText","handleClick"],[1,"text-red-500"],[1,"flex","w-1/5","items-center","space-x-2","rtl:space-x-reverse"],[1,"w-1/2"],["formControlName","socialSalary","type","number","min","0",1,"bg-input","border-[1px]","h-11","p-1"],[1,"w-full","my-4","space-x-4","rtl:space-x-reverse"],[1,"w-full","text-left","px-4","font-semibold","mb-2"],[1,"w-full","box-shadow","bg-gray-50","px-4","py-2","rounded-md"],[1,"flex","w-full"],[1,"w-1/2","flex"],[1,"w-full","my-1","bg-black"],[4,"ngFor","ngForOf"],[1,"w-full","flex","my-2"],[1,"w-1/2","flex","border-l-2",3,"ngSwitch"],["class","w-1/2 text-center",4,"ngSwitchCase"],["class","w-1/2 text-center",4,"ngSwitchDefault"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),e._uU(4),e.ALo(5,"translate"),e.qZA()()(),e.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"label",7),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"fieldset",8),e._UZ(13,"input",9),e.YNc(14,qe,2,1,"div",10),e.qZA()(),e.TgZ(15,"div",6)(16,"label",7),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"fieldset",11)(20,"p"),e._uU(21),e.qZA()()(),e.YNc(22,Ne,7,4,"div",12),e.TgZ(23,"div",6)(24,"label",7),e._uU(25),e.ALo(26,"translate"),e.qZA(),e.TgZ(27,"fieldset",8),e._UZ(28,"input",13),e.YNc(29,Te,2,1,"div",10),e.qZA()(),e.TgZ(30,"app-button",14),e.NdJ("handleClick",function(){return i.updateSalary()}),e.ALo(31,"translate"),e.qZA()(),e.TgZ(32,"div",15)(33,"div",16),e._UZ(34,"div",17),e.TgZ(35,"div",18)(36,"div",19)(37,"span",20),e._uU(38),e.ALo(39,"translate"),e.qZA()(),e.TgZ(40,"div",19)(41,"span",20),e._uU(42),e.ALo(43,"translate"),e.qZA()()()(),e.YNc(44,Fe,27,17,"div",21),e.qZA()(),e.TgZ(45,"div",22)(46,"app-button",23),e.NdJ("handleClick",function(){return i.reviseSalary()}),e.ALo(47,"translate"),e.qZA(),e.TgZ(48,"app-button",24),e.NdJ("handleClick",function(){return i.closeForm()}),e.ALo(49,"translate"),e.qZA()()()),2&t&&(e.xp6(4),e.Oqu(e.lcZ(5,16,"Revise Salary")),e.xp6(2),e.Q6J("formGroup",i.salaryForm),e.xp6(4),e.hij("",e.lcZ(11,18,"Applicable Date"),":"),e.xp6(3),e.Q6J("min",i.today),e.xp6(1),e.Q6J("ngIf",i.formErrors.applicableDate),e.xp6(3),e.hij("",e.lcZ(18,20,"Current Monthly Salary"),":"),e.xp6(4),e.Oqu(null==i.currentBreakdown?null:i.currentBreakdown.salary),e.xp6(1),e.Q6J("ngIf",i.socialSecurityApplicable),e.xp6(3),e.hij("",e.lcZ(26,22,"Revised Monthly Salary"),":"),e.xp6(4),e.Q6J("ngIf",i.formErrors.salary),e.xp6(1),e.Q6J("buttonText",e.lcZ(31,24,"Calculate")),e.xp6(8),e.Oqu(e.lcZ(39,26,"Previous Salary")),e.xp6(4),e.Oqu(e.lcZ(43,28,"Revised Salary")),e.xp6(2),e.Q6J("ngForOf",i.fields),e.xp6(2),e.s9C("buttonText",e.lcZ(47,30,"Revise")),e.xp6(2),e.s9C("buttonText",e.lcZ(49,32,"Cancel")))},dependencies:[d.sg,d.O5,d.RF,d.n9,d.ED,g.r,a.Fj,a.wV,a.JJ,a.JL,a.qQ,a.sg,a.u,x.X$],styles:[".box-shadow[_ngcontent-%COMP%]{box-shadow:#3c40434d 0 1px 2px,#3c404326 0 2px 6px 2px}"]}),o})();var Je=c(656);function Le(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"p",104)(1,"app-button",105),e.NdJ("handleClick",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.editEOEDate=!0)}),e.ALo(2,"translate"),e.qZA()()}2&o&&(e.xp6(1),e.Q6J("buttonText",e.lcZ(2,1,"End Employement")))}function Ye(o,r){if(1&o&&(e.TgZ(0,"p",106)(1,"span",107),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",16),e._uU(5),e.ALo(6,"date"),e.qZA()()),2&o){const t=e.oxw();e.xp6(2),e.hij(" ",e.lcZ(3,2,"Last working date"),": "),e.xp6(3),e.hij(" ",e.xi3(6,4,null==t.employeDetails?null:t.employeDetails.eoeDate,"dd-MMMM-YYYY")," ")}}function Oe(o,r){if(1&o){const t=e.EpF();e.O4$(),e.TgZ(0,"svg",108),e.NdJ("click",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.editProfile=!0)}),e._UZ(1,"path",109),e.qZA()}}function je(o,r){if(1&o){const t=e.EpF();e.O4$(),e.TgZ(0,"svg",108),e.NdJ("click",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.updateDocuments())}),e._UZ(1,"path",109),e.qZA()}}function Me(o,r){if(1&o){const t=e.EpF();e.O4$(),e.TgZ(0,"svg",108),e.NdJ("click",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.updateDocuments())}),e._UZ(1,"path",109),e.qZA()}}function Qe(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",110)(1,"div",29)(2,"span",30),e._uU(3),e.qZA(),e.TgZ(4,"span",16),e._uU(5),e.qZA()(),e.TgZ(6,"div",29)(7,"span",30),e._uU(8),e.qZA(),e.TgZ(9,"span",16),e._uU(10),e.qZA()(),e.TgZ(11,"div",29)(12,"span",30),e._uU(13),e.qZA(),e.TgZ(14,"span",111),e.NdJ("click",function(){const n=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.downloadFile(null==n?null:n.docFileName))}),e._uU(15),e.qZA()()()}if(2&o){const t=r.$implicit;e.xp6(3),e.hij("","Document Type",":"),e.xp6(2),e.Oqu(null==t?null:t.documentType),e.xp6(3),e.hij("","Document Number",":"),e.xp6(2),e.Oqu(null==t?null:t.documentNumber),e.xp6(3),e.hij("","Uploaded File",":"),e.xp6(2),e.Oqu(null==t?null:t.displayFileName)}}function Be(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"app-button",112),e.NdJ("handleClick",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.reviseSalary())}),e.ALo(1,"translate"),e.qZA()}2&o&&e.Q6J("buttonText",e.lcZ(1,1,"Revise salary"))}function Ve(o,r){if(1&o&&(e.TgZ(0,"p",119),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit,i=e.oxw(2);e.xp6(1),e.hij(" ",!0===(null==t?null:t.isPercentage)?(null==t?null:t.value)*(null==i.employeDetails||null==i.employeDetails.salaryBreakdown?null:i.employeDetails.salaryBreakdown.salary)/100:null==t?null:t.amount," ")}}function Ge(o,r){1&o&&(e.TgZ(0,"p",119),e._uU(1," 0 "),e.qZA())}function Pe(o,r){if(1&o&&(e.ynx(0),e.TgZ(1,"div",122)(2,"p",123),e._uU(3),e.qZA(),e.TgZ(4,"p",118),e._uU(5),e.qZA(),e.YNc(6,Ve,2,1,"p",124),e.YNc(7,Ge,2,0,"p",124),e.qZA(),e.BQk()),2&o){const t=r.$implicit,i=e.oxw().$implicit;e.xp6(3),e.hij(" ",null==t?null:t.name," "),e.xp6(2),e.hij(" ",null!=t&&t.isPercentage?(null==t?null:t.value)+"%":"-"," "),e.xp6(1),e.Q6J("ngIf",i.startsWith("fixed")),e.xp6(1),e.Q6J("ngIf",!i.startsWith("fixed"))}}function Re(o,r){if(1&o&&(e.TgZ(0,"div",113)(1,"div",114),e._uU(2),e.qZA(),e.TgZ(3,"div",115)(4,"div",116)(5,"p",117),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"p",118),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"p",119),e._uU(12),e.ALo(13,"translate"),e.qZA()(),e._UZ(14,"hr",120),e.ynx(15),e.YNc(16,Pe,8,4,"ng-container",121),e.BQk(),e.qZA()()),2&o){const t=r.$implicit,i=e.oxw();e.xp6(2),e.hij(" ",i.fieldNames[t]," "),e.xp6(4),e.Oqu(e.lcZ(7,5,"Name")),e.xp6(3),e.Oqu(e.lcZ(10,7,"Percentage")),e.xp6(3),e.Oqu(e.lcZ(13,9,"Value")),e.xp6(4),e.Q6J("ngForOf",null==i.employeDetails?null:i.employeDetails.salaryBreakdown[t])}}function $e(o,r){if(1&o&&(e.TgZ(0,"div",125),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",t.formErrors.firstName,"")}}function He(o,r){if(1&o&&(e.TgZ(0,"div",125),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",t.formErrors.middleName,"")}}function Ke(o,r){if(1&o&&(e.TgZ(0,"div",125),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",t.formErrors.lastName,"")}}function We(o,r){if(1&o&&(e.TgZ(0,"div",125),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",t.formErrors.empCode,"")}}function ze(o,r){if(1&o&&(e.TgZ(0,"div",125),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",t.formErrors.email,"")}}function Xe(o,r){if(1&o&&(e.TgZ(0,"div",125),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",t.formErrors.dateOfJoining,"")}}function et(o,r){if(1&o&&(e.TgZ(0,"div",125),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",t.formErrors.contactNo,"")}}function tt(o,r){if(1&o&&(e.TgZ(0,"div",125),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",t.formErrors.dob,"")}}function ot(o,r){if(1&o&&(e.TgZ(0,"div",125),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Oqu(t.formErrors.gender)}}function it(o,r){if(1&o&&(e.TgZ(0,"div",125),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",t.formErrors.department,"")}}function lt(o,r){if(1&o&&(e.TgZ(0,"div",125),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",t.formErrors.designation,"")}}function rt(o,r){if(1&o&&(e.TgZ(0,"div",125),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",t.formErrors.fatherName,"")}}function at(o,r){if(1&o&&(e.TgZ(0,"div",125),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",t.formErrors.motherName,"")}}function nt(o,r){if(1&o&&(e.TgZ(0,"div",125),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",t.formErrors.address,"")}}function st(o,r){if(1&o&&(e.TgZ(0,"div",125),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",t.formErrors.location," ")}}function ct(o,r){if(1&o&&(e.TgZ(0,"div",125),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Oqu(t.identityFormErrors.documentOptions)}}function pt(o,r){if(1&o&&(e.TgZ(0,"div",125),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.identityFormErrors.documentNumber,"")}}function dt(o,r){1&o&&(e.TgZ(0,"span",140),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Choose File")))}function ut(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"input",141),e.NdJ("cancel",function(){e.CHM(t);const l=e.oxw().index,n=e.oxw();return e.KtG(n.documents[l]=null)})("change",function(l){e.CHM(t);const n=e.oxw().index,s=e.oxw();return e.KtG(s.handleUpload(l,n))}),e.qZA()}}function mt(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"p",20)(1,"span",142),e._uU(2),e.qZA(),e.O4$(),e.TgZ(3,"svg",143),e.NdJ("click",function(l){e.CHM(t);const n=e.oxw().index,s=e.oxw();return e.KtG(s.removeItem(n,l))}),e._UZ(4,"path",144),e.qZA()()}if(2&o){const t=e.oxw().index,i=e.oxw();e.xp6(2),e.Oqu(null==i.employeDetails.employeeIdentity||null==i.employeDetails.employeeIdentity.documents[t]?null:i.employeDetails.employeeIdentity.documents[t].displayFileName)}}function ft(o,r){if(1&o){const t=e.EpF();e.O4$(),e.TgZ(0,"svg",145),e.NdJ("click",function(){e.CHM(t);const l=e.oxw().index,n=e.oxw();return e.KtG(n.removeDocument(l))}),e._UZ(1,"path",146),e.qZA()}}function ht(o,r){if(1&o&&(e.TgZ(0,"div",126),e.ynx(1,127),e.TgZ(2,"div",128)(3,"label",129),e._uU(4),e.ALo(5,"translate"),e.qZA(),e._UZ(6,"ng-select",130),e.ALo(7,"translate"),e.YNc(8,ct,2,1,"div",49),e.qZA(),e.TgZ(9,"div",128)(10,"label",131),e._uU(11),e.ALo(12,"translate"),e.qZA(),e._UZ(13,"input",132),e.ALo(14,"translate"),e.YNc(15,pt,2,1,"div",49),e.qZA(),e.TgZ(16,"div",133)(17,"label",134),e.YNc(18,dt,3,3,"span",135),e.YNc(19,ut,1,0,"input",136),e.YNc(20,mt,5,1,"p",137),e.qZA()(),e.TgZ(21,"div",138),e.YNc(22,ft,2,0,"svg",139),e.qZA(),e.BQk(),e.qZA()),2&o){const t=r.index,i=e.oxw();e.xp6(1),e.Q6J("formGroupName",t),e.xp6(3),e.Oqu(e.lcZ(5,12,"Document Type")),e.xp6(2),e.s9C("placeholder",e.lcZ(7,14,"Select Document Type")),e.Q6J("items",i.documentOptions),e.xp6(2),e.Q6J("ngIf",i.identityFormErrors.documentOptions),e.xp6(3),e.Oqu(e.lcZ(12,16,"Document Number")),e.xp6(2),e.s9C("placeholder",e.lcZ(14,18,"Document Number")),e.xp6(2),e.Q6J("ngIf",i.identityFormErrors.documentNumber),e.xp6(3),e.Q6J("ngIf",!i.isString(t)),e.xp6(1),e.Q6J("ngIf",!i.isString(t)),e.xp6(1),e.Q6J("ngIf",i.isString(t)),e.xp6(2),e.Q6J("ngIf",t>0)}}function xt(o,r){if(1&o&&(e.TgZ(0,"div",125),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",t.identityFormErrors.socialSecurityNumber,"")}}function _t(o,r){if(1&o&&(e.TgZ(0,"div",125),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Oqu(t.identityFormErrors.bankName)}}function yt(o,r){if(1&o&&(e.TgZ(0,"div",125),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",t.identityFormErrors.accountNumber,"")}}function gt(o,r){if(1&o&&(e.TgZ(0,"div",125),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",t.identityFormErrors.ifscCode,"")}}function bt(o,r){if(1&o&&(e.TgZ(0,"div",125),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",t.identityFormErrors.swiftCode,"")}}const Zt=[{path:"",component:Ce},{path:"add",component:q},{path:"edit",component:q},{path:"view",component:(()=>{class o{constructor(t,i,l,n,s,u,f){this.route=t,this.router=i,this.employeService=l,this.spinner=n,this.toast=s,this.translateService=u,this.fb=f,this.salarySlips=[],this.documents=[],this.originalDocuments=[],this.fields=["fixedIncome","variableIncome","fixedDeductibles","variableDeductibles"],this.fieldNames={fixedIncome:"Fixed Income",variableIncome:"Variable Income",fixedDeductibles:"Fixed Deductibles",variableDeductibles:"Variable Deductibles"},this.options=["Male","Female","Others"],this.documentOptions=["Passport","Driving License","National ID"],this.country=localStorage.getItem("country"),this.cities=[],this.departments=["Asset Management","Customer Service","Engineering","Accounting","General Management","Human Resource","Legal","Marketing","Production","Purchase","Sales","Quality Assurance"],this.tableData=[],this.tableKeys=["createdAt","applicableDate","validDate","salary","percentage"],this.tableHeading=["Created Date","Applicable Date","Valid Till","Monthly Salary","Percentage Growth"],this.editProfile=!1,this.editBankAndDocument=!1,this.editSalary=!1,this.editEOEDate=!1,this.eoeDate=new a.NI(p().format("YYYY-MM-DD")),this.today=p().format("YYYY-MM-DD"),this.formErrors={empCode:"",firstName:"",middleName:"",lastName:"",address:"",dob:"",designation:"",department:"",location:"",gender:"",email:"",contactNo:"",fatherName:"",motherName:"",dateOfJoining:""},this.formErrorMessages={firstName:{required:"First Name  is required"},lastName:{required:"Last Name is required"},fatherName:{required:"Father's Name is required"},motherName:{required:"Mother's Name is required"},contactNo:{required:"Mobile Number is required",min:"Mobile Number must be of atleast 10 digits"},email:{required:"Email is required",pattern:"Invalid Email Address"},address:{required:"Address is required"},empCode:{required:"Employe Code required"},dateOfJoining:{required:"Date of Joining is required"},salary:{required:"Annual CTC is required",min:"Annual CTC should be greater than 0"},dob:{required:"Date of Birth is required"},gender:{required:"Gender is required"},designation:{required:"Designation is required"},department:{required:"Department is required"},location:{required:"Location is required"}},this.identityFormErrors={documentType:"",documentNumber:"",socialSecurityNumber:"",bankName:"",accountNumber:"",ifscCode:"",swiftCode:""},this.identityFormErrorMessages={documentType:{required:"Document Type is required"},documentNumber:{required:"Document Number is required"},socialSecurityNumber:{required:"Social Security Number is required"},bankName:{required:"Bank Name is required"},accountNumber:{required:"Account Number is required"},ifscCode:{required:"IFSC code is required"},swiftCode:{required:"Swift code is required"}}}ngOnInit(){this.route.queryParams.subscribe(t=>{t.id&&(this.getAllCities(),this.createPersonalDetailsForm(),this.createDocumentForm(),this.getEmployeDetails(t.id),this.getPreviousSalary(t.id))})}getAllCities(){this.employeService.getCitiesByCountry(this.country).subscribe(t=>{t?.error||(this.cities=t?.data)})}createPersonalDetailsForm(){this.employeForm=this.fb.group({firstName:["",a.kI.required],lastName:["",a.kI.required],middleName:[""],empCode:["",a.kI.required],email:["",[a.kI.required,a.kI.pattern(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/)]],contactNo:["",[a.kI.required,a.kI.min(1e9)]],designation:["",a.kI.required],department:[null,a.kI.required],location:[null,a.kI.required],dateOfJoining:[p().format("YYYY-MM-DD"),a.kI.required],dob:[p().subtract(24,"year").format("YYYY-MM-DD"),a.kI.required],gender:["Male",a.kI.required],fatherName:["",a.kI.required],motherName:["",a.kI.required],address:["",a.kI.required]}),this.employeForm.valueChanges.subscribe(()=>{this.formErrors=(0,m.tm)(this.employeForm,this.formErrors,this.formErrorMessages,this.translateService)}),this.formErrors=(0,m.tm)(this.employeForm,this.formErrors,this.formErrorMessages,this.translateService)}createDocumentForm(){this.identityForm=this.fb.group({documents:this.fb.array([]),socialSecurityNumber:["",a.kI.required],bankName:["",a.kI.required],ifscCode:["",a.kI.required],accountNumber:["",a.kI.required],swiftCode:[""]}),this.identityFormErrors=(0,m.tm)(this.identityForm,this.identityFormErrors,this.identityFormErrorMessages,this.translateService),this.identityForm.valueChanges.subscribe(()=>{this.identityFormErrors=(0,m.tm)(this.identityForm,this.identityFormErrors,this.identityFormErrorMessages,this.translateService)})}getEmployeDetails(t){this.spinner.show(),this.employeService.getEmployeById(t).subscribe(i=>{i?.success?(this.employeDetails=i?.data,this.updatePersonalFormValue(),this.employeDetails?.employeeIdentity?.documents?.forEach(l=>{this.documents.push(l?.displayFileName),this.originalDocuments.push(l?.displayFileName)})):(this.toast.error(this.translateService.instant(i?.message)),this.router.navigate(["/pages/employes"]))},i=>{this.toast.error(this.translateService.instant(i?.error?.error)),this.router.navigate(["/pages/employes"])},()=>this.spinner.hide())}getPreviousSalary(t){this.employeService.getPreviousSalary(t).subscribe(i=>{i?.success&&(this.tableData=i?.data?.map(l=>({...l,createdAt:"--"!==l?.createdAt?p(l?.createdAt).format("DD-MM-YYYY"):l?.createdAt,applicableDate:"--"!==l?.applicableDate?p(l?.applicableDate).format("DD-MM-YYYY"):l?.applicableDate,validDate:"--"!==l?.validDate?p(l?.createdAt).format("DD-MM-YYYY"):l?.validDate})))})}updatePersonalFormValue(){this.employeForm.patchValue({firstName:this.employeDetails?.firstName,lastName:this.employeDetails?.lastName,middleName:this.employeDetails?.middleName,empCode:this.employeDetails?.empCode,email:this.employeDetails?.email,contactNo:this.employeDetails?.contactNo,designation:this.employeDetails?.designation,department:this.employeDetails?.department,location:this.employeDetails?.location,dateOfJoining:p(this.employeDetails?.dateOfJoining).format("YYYY-MM-DD"),dob:p(this.employeDetails?.dob).format("YYYY-MM-DD"),gender:this.employeDetails?.gender,fatherName:this.employeDetails?.fatherName,motherName:this.employeDetails?.motherName,address:this.employeDetails?.address})}updateDocumentFormValue(){this.identityForm.patchValue({socialSecurityNumber:this.employeDetails?.employeeIdentity?.socialSecurityNumber,bankName:this.employeDetails?.bankDetail?.bankName,ifscCode:this.employeDetails?.bankDetail?.ifscCode,accountNumber:this.employeDetails?.bankDetail?.accountNumber,swiftCode:this.employeDetails?.bankDetail?.swiftCode}),this.employeDetails?.employeeIdentity?.documents?.forEach(t=>{this.newDocument(t)})}newDocument(t){this.identityForm.get("documents").push(this.addDocument(t??null))}addDocument(t){return this.fb.group({documentType:[t?.documentType??null,a.kI.required],documentNumber:[t?.documentNumber??"",a.kI.required]})}removeDocument(t){this.identityForm.get("documents").removeAt(t),this.documents.splice(t,1)}handleUpload(t,i){i<this.documents.length?this.documents[i]=t?.target?.files[0]:this.documents.push(t?.target?.files[0])}getEmployeSalarySlips(){}updateProfile(){this.spinner.show(),this.employeService.updateEmployeDetails(this.employeDetails?._id,this.employeForm.value).subscribe(t=>{t?.success?(this.toast.success(this.translateService.instant(t?.message)),this.employeDetails=t?.data,this.updatePersonalFormValue(),this.closeForm("editProfile")):this.toast.error(this.translateService.instant(t?.message))},t=>{this.toast.error(this.translateService.instant(t?.error?.error))},()=>this.spinner.hide())}saveBankAndDocumenDetails(){let t=new FormData;for(let n=0;n<this.documents.length;n++)t.append(`file${n}`,"string"==typeof this.documents[n]?null:this.documents[n]);let i={socialSecurityNumber:this.identityForm?.get("socialSecurityNumber").value??"",documents:this.identityForm.get("documents").value??[]};for(let n=0;n<this.documents.length;n++)"string"==typeof this.documents[n]&&(i.documents[n]={...i.documents[n],docFileName:this.employeDetails?.employeeIdentity?.documents[n]?.docFileName,displayFileName:this.employeDetails?.employeeIdentity?.documents[n]?.displayFileName,fileType:this.employeDetails?.employeeIdentity?.documents[n]?.displayFileName});let l=this.identityForm.value;delete l.socialSecurityNumber,delete l.documents,t.append("employeeDetails",JSON.stringify({employeeIdentity:i,bankDetail:l})),this.spinner.show(),this.employeService.updateEmployeIdentity(this.employeDetails?._id,t).subscribe(n=>{n?.success?(this.toast.success(this.translateService.instant(n?.message)),this.employeDetails=n?.data,this.closeForm("editBankAndDocument")):this.toast.error(this.translateService.instant(n?.message))},n=>{this.toast.error(this.translateService.instant(n?.error?.error))},()=>this.spinner.hide())}updateDocuments(){this.editBankAndDocument=!0,this.identityForm?.get("documents").clear(),this.identityForm.reset(),this.updateDocumentFormValue()}reviseSalary(){this.router.navigate(["/pages/employes/revise-salary"],{queryParams:{id:this.employeDetails?._id}})}closeForm(t){this[t]=!1,"editBankAndDocument"===t&&(this.documents=this.originalDocuments)}isString(t){return"string"==typeof this.documents[t]}removeItem(t,i){i.preventDefault(),this.documents[t]=null}downloadFile(t){t.split("."),t.split("."),this.spinner.show(),this.employeService.downloadFile({docFileName:t}).subscribe(n=>{const s=document.createElement("a"),u=new Blob([new Uint8Array(n.data.dataBuffer?.data)],{type:n?.data?.fileType??"application/pdf"}),f=window.URL.createObjectURL(u);s.href=f,s.download=t,s.click(),window.URL.revokeObjectURL(f),this.toast.success(this.translateService.instant("File downloaded"))},n=>{this.toast.error(this.translateService.instant(n?.error?.error))},()=>this.spinner.hide())}endEmployement(){this.spinner.show(),this.employeService.endEmployement(this.employeDetails?._id,{eoeDate:this.eoeDate.value}).subscribe(t=>{t?.success?(this.toast.success(this.translateService.instant(t?.message)),this.router.navigate(["/pages/employes"])):this.toast.error(this.translateService.instant(t?.message))},t=>{this.toast.error(t?.error?.error),this.spinner.hide()},()=>this.spinner.hide())}checkDate(){return 4e3!==p(this.employeDetails?.eoeDate).year()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(h.gz),e.Y36(h.F0),e.Y36(Z.m),e.Y36(_.t2),e.Y36(y._W),e.Y36(x.sK),e.Y36(a.qu))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-view-employe"]],decls:338,vars:275,consts:[[1,"box-shadow","flex","flex-col","w-full","space-x-2","rtl:space-x-reverse","px-4","py-4","my-2","bg-gray-50"],[1,"w-full","flex","flex-col","ms-2"],[1,"w-full","flex","justify-between"],[1,"font-extrabold","text-3xl"],["class","p-1",4,"ngIf"],[1,"flex","w-full","justify-between"],[1,"font-semibold","text-md","text-gray-700"],["class","flex space-x-3 rtl:space-x-reverse",4,"ngIf"],[1,"w-full","my-2","bg-black"],[1,"flex","w-full","mt-6"],[1,"flex","flex-col","space-y-2","text-md","w-1/3","p-3"],[1,"flex","w-full","mb-4","justify-between"],[1,"text-xl","font-bold"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor","class","w-6 h-6",3,"click",4,"ngIf"],[1,"flex","w-full","space-x-3","rtl:space-x-reverse"],[1,"font-semibold","w-1/3"],[1,"text-start"],[1,"flex","flex-col","w-2/3","border-l-2","px-4"],[1,"flex","w-full","space-x-6","rtl:space-x-reverse"],[1,"flex","flex-col","w-2/3","space-y-2","px-2"],[1,"flex"],[1,"w-1/3","text-start","font-semibold"],[1,"text-end","w-fit"],[1,"flex","flex-col","w-2/3","space-y-2","px-2","ms-"],[1,"w-full","my-4","bg-black"],[1,"flex","w-full","my-4","justify-between"],[1,"flex","flex-col","space-y-4","w-full"],["class","flex w-full justify-between px-2",4,"ngFor","ngForOf"],[1,"flex","w-full","justify-between","space-y-2","px-2"],[1,"flex","w-1/3"],[1,"w-1/2","text-start","font-semibold"],[1,"w-full","my-5","bg-black"],[1,"flex-1"],[1,"flex","w-2/3","mb-4","items-center","justify-between"],["type","primary",3,"buttonText","handleClick",4,"ngIf"],[1,"flex","w-1/3","justify-between","px-4","space-x-2","rtl:space-x-reverse"],[1,"border","rounded","p-3","my-4","w-2/3","space-y-4"],["class","w-[95%] space-x-4 rtl:space-x-reverse",4,"ngFor","ngForOf"],[1,"space-y-4","w-full","mb-4"],[1,"border","rounded","p-2"],[3,"tableData","keys","tableHeadings"],[3,"isOpen"],["header","",1,"border-b","pb-2","Gilroy-ExtraBold","text-xl"],["content",""],[1,"space-y-6","w-full",3,"formGroup"],[1,"flex","space-x-8","rtl:space-x-reverse","w-full"],[1,"w-1/3","mb-4"],["for","firstName",1,"block","text-sm","Gilroy-Bold","font-color-05"],["type","","id","firstName","formControlName","firstName",1,"bg-input","h-12","rounded-xl","w-full","border","placeholder:p-2","px-2","py-1",3,"placeholder"],["class","text-sm text-red-500 ms-2 mt-1",4,"ngIf"],["for","middleName",1,"block","text-sm","Gilroy-Bold","font-color-05"],["id","middleName","formControlName","middleName","type","",1,"bg-input","h-12","rounded-xl","w-full","border","placeholder:p-2","px-2","py-1",3,"placeholder"],["for","lastName",1,"block","text-sm","Gilroy-Bold","font-color-05"],["id","lastName","formControlName","lastName","type","",1,"bg-input","h-12","rounded-xl","w-full","border","placeholder:p-2","px-2","py-1",3,"placeholder"],["for","empCode",1,"block","text-sm","Gilroy-Bold","font-color-05"],["id","empCode","formControlName","empCode","type","text",1,"bg-input","h-12","rounded-xl","border","placeholder:p-2","w-full","px-2","py-1",3,"placeholder"],["for","email",1,"block","text-sm","Gilroy-Bold","font-color-05"],["id","email","formControlName","email","type","",1,"bg-input","h-12","rounded-xl","w-full","border","placeholder:p-2","px-2","py-1",3,"placeholder"],["for","dateOfJoining",1,"block","text-sm","Gilroy-Bold","font-color-05"],["id","dob","formControlName","dateOfJoining","type","date","readonly","",1,"bg-input","h-12","rounded-xl","w-full","border","placeholder:p-2","px-2","py-1"],["for","mobileNumber",1,"block","text-sm","Gilroy-Bold","font-color-05"],["id","mobileNumber","formControlName","contactNo","type","number","min","1000000000",1,"bg-input","h-12","rounded-xl","w-full","border","placeholder:p-2","px-2","py-1",3,"placeholder"],["for","dob",1,"block","text-sm","Gilroy-Bold","font-color-05"],["id","dob","formControlName","dob","type","date",1,"bg-input","h-12","rounded-xl","w-full","border","placeholder:p-2","px-2","py-1"],["for","gender",1,"block","text-sm","Gilroy-Bold","font-color-05"],["formControlName","gender",1,"custom-selector",3,"items","placeholder"],["addTag","true","formControlName","department",1,"custom-selector",3,"items","placeholder"],["for","designation",1,"block","text-sm","Gilroy-Bold","font-color-05"],["type","","id","designation","formControlName","designation",1,"bg-input","h-12","rounded-xl","w-full","border","placeholder:p-2","px-2","py-1",3,"placeholder"],["for","fatherName",1,"block","text-sm","Gilroy-Bold","font-color-05"],["type","","id","fatherName","formControlName","fatherName",1,"bg-input","h-12","rounded-xl","w-full","border","placeholder:p-2","px-2","py-1",3,"placeholder"],["for","motherName",1,"block","text-sm","Gilroy-Bold","font-color-05"],["id","motherName","formControlName","motherName","type","",1,"bg-input","h-12","rounded-xl","w-full","border","placeholder:p-2","px-2","py-1",3,"placeholder"],["for","address",1,"block","text-sm","Gilroy-Bold","font-color-05"],["id","address","formControlName","address","type","",1,"bg-input","h-24","rounded-xl","w-full","border","placeholder:p-2","px-2","py-1",3,"placeholder"],["for","location",1,"block","text-sm","Gilroy-Bold","font-color-05"],["addTag","true","formControlName","location",1,"custom-selector",3,"items","virtualScroll","placeholder"],["footer","",1,"space-x-2","rtl:space-x-reverse"],["tabindex","6","type","primary","rounded","true",1,"me-2",3,"buttonText","handleClick"],["tabindex","7","type","third","rounded","true",3,"buttonText","handleClick"],["content","",3,"formGroup"],["formArrayName","documents","class","flex space-x-8 rtl:space-x-reverse w-full",4,"ngFor","ngForOf"],[1,"mb-4"],["type","third",3,"buttonText","handleClick"],[1,"w-1/5","mb-4"],["for","socialSecurity",1,"block","text-sm","Gilroy-Bold","font-color-05"],["id","socialSecurity","formControlName","socialSecurityNumber","type","",1,"bg-input","h-12","rounded-xl","w-full","border","placeholder:p-2","px-2","py-1",3,"placeholder"],[1,"text-2xl","font-bold","mb-2","xl:text-3xl"],[1,"text-neutral-cool-gray","mb-5","xl:mb-7"],["for","bankName",1,"block","text-sm","Gilroy-Bold","font-color-05"],["id","bankName","formControlName","bankName","type","",1,"bg-input","h-12","rounded-xl","w-full","border","placeholder:p-2","px-2","py-1",3,"placeholder"],["for","accountNumber",1,"block","text-sm","Gilroy-Bold","font-color-05"],["id","accountNumber","formControlName","accountNumber","type","number",1,"bg-input","h-12","rounded-xl","w-full","border","placeholder:p-2","px-2","py-1",3,"placeholder"],["for","ifscCode",1,"block","text-sm","Gilroy-Bold","font-color-05"],["id","ifscCode","formControlName","ifscCode","type","",1,"bg-input","h-12","rounded-xl","w-full","border","placeholder:p-2","px-2","py-1",3,"placeholder"],["for","swiftCode",1,"block","text-sm","Gilroy-Bold","font-color-05"],["id","swiftCode","formControlName","swiftCode","type","number",1,"bg-input","h-12","rounded-xl","w-full","border","placeholder:p-2","px-2","py-1",3,"placeholder"],[1,"small",3,"isOpen"],["header","",1,"font-bold"],[1,"flex","bg-white","rounded-3xl","px-4","pt-4"],[1,"flex","flex-col","w-1/3","justify-center","mb-6","space-y-2"],[1,"Gilroy-Bold"],[1,""],["type","date",1,"bg-input","border-[1px]","h-11","p-1",3,"formControl","min"],[1,"p-1"],["type","danger",3,"buttonText","handleClick"],[1,"flex","space-x-3","rtl:space-x-reverse"],[1,"font-semibold"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-6","h-6",3,"click"],["stroke-linecap","round","stroke-linejoin","round","d","M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"],[1,"flex","w-full","justify-between","px-2"],[1,"text-start","text-blue-700","cursor-pointer",3,"click"],["type","primary",3,"buttonText","handleClick"],[1,"w-[95%]","space-x-4","rtl:space-x-reverse"],[1,"w-full","text-left","px-4","font-semibold","mb-2"],[1,"w-full","box-shadow","bg-gray-50","px-4","py-2","rounded-md"],[1,"w-full","justify-between","flex","my-2","font-semibold"],[1,"w-1/3"],[1,"w-1/3","text-center"],[1,"w-1/3","text-end"],[1,"w-full","my-1","bg-black"],[4,"ngFor","ngForOf"],[1,"w-full","justify-between","flex","my-2"],[1,"w-1/3","text-start"],["class","w-1/3 text-end",4,"ngIf"],[1,"text-sm","text-red-500","ms-2","mt-1"],["formArrayName","documents",1,"flex","space-x-8","rtl:space-x-reverse","w-full"],[3,"formGroupName"],[1,"w-1/5","mb-2"],["for","documentType",1,"block","text-sm","Gilroy-Bold","font-color-05"],["addTag","true","formControlName","documentType",1,"custom-selector",3,"items","placeholder"],["for","documentNumber",1,"block","text-sm","Gilroy-Bold","font-color-05"],["id","documentNumber","formControlName","documentNumber","type","",1,"bg-input","h-12","rounded-xl","w-full","border","placeholder:p-2","px-2","py-1",3,"placeholder"],[1,"mb-2","self-center"],[1,"block"],["class","sr-only",4,"ngIf"],["type","file","class","block w-full text-sm text-gray-500 file:me-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100",3,"cancel","change",4,"ngIf"],["class","flex",4,"ngIf"],[1,"self-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor","class","ms-3 w-7 h-7",3,"click",4,"ngIf"],[1,"sr-only"],["type","file",1,"block","w-full","text-sm","text-gray-500","file:me-4","file:py-2","file:px-4","file:rounded-full","file:border-0","file:text-sm","file:font-semibold","file:bg-blue-50","file:text-blue-700","hover:file:bg-blue-100",3,"cancel","change"],[1,"text-blue-600"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-3","h-3",3,"click"],["stroke-linecap","round","stroke-linejoin","round","d","M6 18L18 6M6 6l12 12"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"ms-3","w-7","h-7",3,"click"],["stroke-linecap","round","stroke-linejoin","round","d","M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4),e.qZA(),e.YNc(5,Le,3,3,"p",4),e.qZA(),e.TgZ(6,"div",5)(7,"h6",6),e._uU(8),e.qZA(),e.YNc(9,Ye,7,7,"p",7),e.qZA(),e.TgZ(10,"h6",6),e._uU(11),e.ALo(12,"translate"),e.qZA()(),e._UZ(13,"hr",8),e.TgZ(14,"div",9)(15,"div",10)(16,"div",11)(17,"p",12),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.YNc(20,Oe,2,0,"svg",13),e.qZA(),e.TgZ(21,"p",14)(22,"span",15),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"span",16),e._uU(26),e.qZA()(),e.TgZ(27,"p",14)(28,"span",15),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"span",16),e._uU(32),e.qZA()(),e.TgZ(33,"p",14)(34,"span",15),e._uU(35),e.ALo(36,"translate"),e.qZA(),e.TgZ(37,"span",16),e._uU(38),e.qZA()(),e.TgZ(39,"p",14)(40,"span",15),e._uU(41),e.ALo(42,"translate"),e.qZA(),e.TgZ(43,"span",16),e._uU(44),e.ALo(45,"date"),e.qZA()(),e.TgZ(46,"p",14)(47,"span",15),e._uU(48),e.ALo(49,"translate"),e.qZA(),e.TgZ(50,"span",16),e._uU(51),e.qZA()(),e.TgZ(52,"p",14)(53,"span",15),e._uU(54),e.ALo(55,"translate"),e.qZA(),e.TgZ(56,"span",16),e._uU(57),e.qZA()(),e.TgZ(58,"p",14)(59,"span",15),e._uU(60),e.ALo(61,"translate"),e.qZA(),e.TgZ(62,"span",16),e._uU(63),e.qZA()(),e.TgZ(64,"p",14)(65,"span",15),e._uU(66),e.ALo(67,"translate"),e.qZA(),e.TgZ(68,"span",16),e._uU(69),e.qZA()()(),e.TgZ(70,"div",17)(71,"div",11)(72,"p",12),e._uU(73),e.ALo(74,"translate"),e.qZA(),e.YNc(75,je,2,0,"svg",13),e.qZA(),e.TgZ(76,"div",18)(77,"div",19)(78,"div",20)(79,"span",21),e._uU(80),e.qZA(),e.TgZ(81,"span",22),e._uU(82),e.qZA()(),e.TgZ(83,"div",20)(84,"span",21),e._uU(85),e.qZA(),e.TgZ(86,"span",22),e._uU(87),e.qZA()()(),e.TgZ(88,"div",23)(89,"div",20)(90,"span",21),e._uU(91),e.qZA(),e.TgZ(92,"span",22),e._uU(93),e.qZA()(),e.TgZ(94,"div",20)(95,"span",21),e._uU(96),e.qZA(),e.TgZ(97,"span",22),e._uU(98),e.qZA()()()(),e._UZ(99,"hr",24),e.TgZ(100,"div",25)(101,"p",12),e._uU(102),e.ALo(103,"translate"),e.qZA(),e.YNc(104,Me,2,0,"svg",13),e.qZA(),e.TgZ(105,"div",26),e.YNc(106,Qe,16,6,"div",27),e.TgZ(107,"div",28)(108,"div",29)(109,"span",30),e._uU(110),e.qZA(),e.TgZ(111,"span",16),e._uU(112),e.qZA()()()()()(),e._UZ(113,"hr",31),e.TgZ(114,"div",32)(115,"div",33)(116,"p",12),e._uU(117),e.ALo(118,"translate"),e.qZA(),e.YNc(119,Be,2,3,"app-button",34),e.qZA(),e.TgZ(120,"div",35)(121,"div")(122,"span",15),e._uU(123),e.ALo(124,"translate"),e.qZA(),e.TgZ(125,"span",16),e._uU(126),e.qZA()(),e.TgZ(127,"div")(128,"span",15),e._uU(129),e.ALo(130,"translate"),e.qZA(),e.TgZ(131,"span",16),e._uU(132),e.ALo(133,"date"),e.qZA()()(),e.TgZ(134,"div",36),e.YNc(135,Re,17,11,"div",37),e.qZA()(),e._UZ(136,"hr",31),e.TgZ(137,"div",38)(138,"p",12),e._uU(139),e.ALo(140,"translate"),e.qZA(),e.TgZ(141,"div",39),e._UZ(142,"app-table-container",40),e.qZA()()(),e.TgZ(143,"app-modal-container",41)(144,"div",42),e._uU(145),e.ALo(146,"translate"),e.qZA(),e.TgZ(147,"div",43)(148,"div",44)(149,"div",45)(150,"div",46)(151,"label",47),e._uU(152),e.ALo(153,"translate"),e.qZA(),e._UZ(154,"input",48),e.ALo(155,"translate"),e.YNc(156,$e,2,1,"div",49),e.qZA(),e.TgZ(157,"div",46)(158,"label",50),e._uU(159),e.ALo(160,"translate"),e.qZA(),e._UZ(161,"input",51),e.ALo(162,"translate"),e.YNc(163,He,2,1,"div",49),e.qZA(),e.TgZ(164,"div",46)(165,"label",52),e._uU(166),e.ALo(167,"translate"),e.qZA(),e._UZ(168,"input",53),e.ALo(169,"translate"),e.YNc(170,Ke,2,1,"div",49),e.qZA()(),e.TgZ(171,"div",45)(172,"div",46)(173,"label",54),e._uU(174),e.ALo(175,"translate"),e.qZA(),e._UZ(176,"input",55),e.ALo(177,"translate"),e.YNc(178,We,2,1,"div",49),e.qZA(),e.TgZ(179,"div",46)(180,"label",56),e._uU(181),e.ALo(182,"translate"),e.qZA(),e._UZ(183,"input",57),e.ALo(184,"translate"),e.YNc(185,ze,2,1,"div",49),e.qZA(),e.TgZ(186,"div",46)(187,"label",58),e._uU(188),e.ALo(189,"translate"),e.qZA(),e._UZ(190,"input",59),e.YNc(191,Xe,2,1,"div",49),e.qZA()(),e.TgZ(192,"div",45)(193,"div",46)(194,"label",60),e._uU(195),e.ALo(196,"translate"),e.qZA(),e._UZ(197,"input",61),e.ALo(198,"translate"),e.YNc(199,et,2,1,"div",49),e.qZA(),e.TgZ(200,"div",46)(201,"label",62),e._uU(202),e.ALo(203,"translate"),e.qZA(),e._UZ(204,"input",63),e.YNc(205,tt,2,1,"div",49),e.qZA(),e.TgZ(206,"div",46)(207,"label",64),e._uU(208),e.ALo(209,"translate"),e.qZA(),e._UZ(210,"ng-select",65),e.ALo(211,"translate"),e.YNc(212,ot,2,1,"div",49),e.qZA()(),e.TgZ(213,"div",45)(214,"div",46)(215,"label",52),e._uU(216),e.ALo(217,"translate"),e.qZA(),e._UZ(218,"ng-select",66),e.ALo(219,"translate"),e.YNc(220,it,2,1,"div",49),e.qZA(),e.TgZ(221,"div",46)(222,"label",67),e._uU(223),e.ALo(224,"translate"),e.qZA(),e._UZ(225,"input",68),e.ALo(226,"translate"),e.YNc(227,lt,2,1,"div",49),e.qZA()(),e.TgZ(228,"div",45)(229,"div",46)(230,"label",69),e._uU(231),e.ALo(232,"translate"),e.qZA(),e._UZ(233,"input",70),e.ALo(234,"translate"),e.YNc(235,rt,2,1,"div",49),e.qZA(),e.TgZ(236,"div",46)(237,"label",71),e._uU(238),e.ALo(239,"translate"),e.qZA(),e._UZ(240,"input",72),e.ALo(241,"translate"),e.YNc(242,at,2,1,"div",49),e.qZA()(),e.TgZ(243,"div",45)(244,"div",46)(245,"label",73),e._uU(246),e.ALo(247,"translate"),e.qZA(),e.TgZ(248,"textarea",74),e.ALo(249,"translate"),e._uU(250,"                  "),e.qZA(),e.YNc(251,nt,2,1,"div",49),e.qZA(),e.TgZ(252,"div",46)(253,"label",75),e._uU(254),e.ALo(255,"translate"),e.qZA(),e._UZ(256,"ng-select",76),e.ALo(257,"translate"),e.YNc(258,st,2,1,"div",49),e.qZA()()()(),e.TgZ(259,"div",77)(260,"app-button",78),e.NdJ("handleClick",function(){return i.updateProfile()}),e.ALo(261,"translate"),e.qZA(),e.TgZ(262,"app-button",79),e.NdJ("handleClick",function(){return i.closeForm("editProfile")}),e.ALo(263,"translate"),e.qZA()()(),e.TgZ(264,"app-modal-container",41)(265,"div",42),e._uU(266),e.ALo(267,"translate"),e.qZA(),e.TgZ(268,"div",80),e.YNc(269,ht,23,20,"div",81),e.TgZ(270,"div",82)(271,"app-button",83),e.NdJ("handleClick",function(){return i.newDocument()}),e.ALo(272,"translate"),e.qZA()(),e.TgZ(273,"div",45)(274,"div",84)(275,"label",85),e._uU(276),e.ALo(277,"translate"),e.qZA(),e._UZ(278,"input",86),e.ALo(279,"translate"),e.YNc(280,xt,2,1,"div",49),e.qZA()(),e.TgZ(281,"h2",87),e._uU(282),e.ALo(283,"translate"),e.qZA(),e.TgZ(284,"p",88),e._uU(285),e.ALo(286,"translate"),e.qZA(),e.TgZ(287,"div",45)(288,"div",84)(289,"label",89),e._uU(290),e.ALo(291,"translate"),e.qZA(),e._UZ(292,"input",90),e.ALo(293,"translate"),e.YNc(294,_t,2,1,"div",49),e.qZA(),e.TgZ(295,"div",84)(296,"label",91),e._uU(297),e.ALo(298,"translate"),e.qZA(),e._UZ(299,"input",92),e.ALo(300,"translate"),e.YNc(301,yt,2,1,"div",49),e.qZA(),e.TgZ(302,"div",84)(303,"label",93),e._uU(304),e.ALo(305,"translate"),e.qZA(),e._UZ(306,"input",94),e.ALo(307,"translate"),e.YNc(308,gt,2,1,"div",49),e.qZA(),e.TgZ(309,"div",84)(310,"label",95),e._uU(311),e.ALo(312,"translate"),e.qZA(),e._UZ(313,"input",96),e.ALo(314,"translate"),e.YNc(315,bt,2,1,"div",49),e.qZA()()(),e.TgZ(316,"div",77)(317,"app-button",78),e.NdJ("handleClick",function(){return i.saveBankAndDocumenDetails()}),e.ALo(318,"translate"),e.qZA(),e.TgZ(319,"app-button",79),e.NdJ("handleClick",function(){return i.closeForm("editBankAndDocument")}),e.ALo(320,"translate"),e.qZA()()(),e.TgZ(321,"app-modal-container",97)(322,"div",98),e._uU(323),e.ALo(324,"translate"),e.qZA(),e.TgZ(325,"div",43)(326,"div",99)(327,"div",100)(328,"label",101),e._uU(329),e.ALo(330,"translate"),e.qZA(),e.TgZ(331,"fieldset",102),e._UZ(332,"input",103),e.qZA()()()(),e.TgZ(333,"div",77)(334,"app-button",78),e.NdJ("handleClick",function(){return i.endEmployement()}),e.ALo(335,"translate"),e.qZA(),e.TgZ(336,"app-button",79),e.NdJ("handleClick",function(){return i.editEOEDate=!1}),e.ALo(337,"translate"),e.qZA()()()),2&t&&(e.xp6(4),e.lnq("",null==i.employeDetails?null:i.employeDetails.firstName," ",null!=i.employeDetails&&i.employeDetails.middleName?(null==i.employeDetails?null:i.employeDetails.middleName)+" ":""," ",null==i.employeDetails?null:i.employeDetails.lastName,""),e.xp6(1),e.Q6J("ngIf",!i.checkDate()),e.xp6(3),e.hij("",null==i.employeDetails?null:i.employeDetails.designation," "),e.xp6(1),e.Q6J("ngIf",i.checkDate()),e.xp6(2),e.AsE("",null==i.employeDetails?null:i.employeDetails.department," ",e.lcZ(12,135,"Department")," "),e.xp6(7),e.hij("",e.lcZ(19,137,"Personal Details"),":"),e.xp6(2),e.Q6J("ngIf",!i.checkDate()),e.xp6(3),e.hij(" ",e.lcZ(24,139,"Employe Code"),": "),e.xp6(3),e.hij(" ",null==i.employeDetails?null:i.employeDetails.empCode," "),e.xp6(3),e.hij(" ",e.lcZ(30,141,"Email Address"),": "),e.xp6(3),e.hij(" ",null==i.employeDetails?null:i.employeDetails.email," "),e.xp6(3),e.hij(" ",e.lcZ(36,143,"Contact Number"),": "),e.xp6(3),e.hij(" ",null==i.employeDetails?null:i.employeDetails.contactNo," "),e.xp6(3),e.hij(" ",e.lcZ(42,145,"Date of Joining"),": "),e.xp6(3),e.hij(" ",e.xi3(45,147,null==i.employeDetails?null:i.employeDetails.dateOfJoining,"DD-MM-YYYY")," "),e.xp6(4),e.hij(" ",e.lcZ(49,150,"Date Of Birth"),": "),e.xp6(3),e.hij(" ",null==i.employeDetails?null:i.employeDetails.dob," "),e.xp6(3),e.hij(" ",e.lcZ(55,152,"Gender"),": "),e.xp6(3),e.hij(" ",null==i.employeDetails?null:i.employeDetails.gender," "),e.xp6(3),e.hij(" ",e.lcZ(61,154,"Father's Name"),": "),e.xp6(3),e.hij(" ",null==i.employeDetails?null:i.employeDetails.fatherName," "),e.xp6(3),e.hij(" ",e.lcZ(67,156,"Mother's Name"),": "),e.xp6(3),e.hij(" ",null==i.employeDetails?null:i.employeDetails.motherName," "),e.xp6(4),e.hij("",e.lcZ(74,158,"Bank Details"),":"),e.xp6(2),e.Q6J("ngIf",!i.checkDate()),e.xp6(5),e.hij("","Bank Name",":"),e.xp6(2),e.Oqu(null==i.employeDetails||null==i.employeDetails.bankDetail?null:i.employeDetails.bankDetail.bankName),e.xp6(3),e.hij("","Account Number",":"),e.xp6(2),e.Oqu(null==i.employeDetails||null==i.employeDetails.bankDetail?null:i.employeDetails.bankDetail.accountNumber),e.xp6(4),e.hij("","IFSC Code",":"),e.xp6(2),e.Oqu(null==i.employeDetails||null==i.employeDetails.bankDetail?null:i.employeDetails.bankDetail.ifscCode),e.xp6(3),e.hij("","Swift Code",":"),e.xp6(2),e.Oqu(null==i.employeDetails||null==i.employeDetails.bankDetail?null:i.employeDetails.bankDetail.swiftCode),e.xp6(4),e.hij("",e.lcZ(103,160,"Document Details"),":"),e.xp6(2),e.Q6J("ngIf",!i.checkDate()),e.xp6(2),e.Q6J("ngForOf",null==i.employeDetails||null==i.employeDetails.employeeIdentity?null:i.employeDetails.employeeIdentity.documents),e.xp6(4),e.hij("","Social Security Number",":"),e.xp6(2),e.Oqu(null==i.employeDetails||null==i.employeDetails.employeeIdentity?null:i.employeDetails.employeeIdentity.socialSecurityNumber),e.xp6(5),e.hij("",e.lcZ(118,162,"Salary Details"),":"),e.xp6(2),e.Q6J("ngIf",!i.checkDate()),e.xp6(4),e.hij(" ",e.lcZ(124,164,"Monthly Salary"),": "),e.xp6(3),e.hij(" ",null==i.employeDetails||null==i.employeDetails.salaryBreakdown?null:i.employeDetails.salaryBreakdown.salary," "),e.xp6(3),e.hij(" ",e.lcZ(130,166,"Applied From"),": "),e.xp6(3),e.hij(" ",e.xi3(133,168,null==i.employeDetails||null==i.employeDetails.salaryBreakdown?null:i.employeDetails.salaryBreakdown.applicableDate,"dd-MM-YYYY")," "),e.xp6(3),e.Q6J("ngForOf",i.fields),e.xp6(4),e.hij("",e.lcZ(140,171,"Previous Salary Slips"),":"),e.xp6(3),e.Q6J("tableData",i.tableData)("keys",i.tableKeys)("tableHeadings",i.tableHeading),e.xp6(1),e.Q6J("isOpen",i.editProfile),e.xp6(2),e.Oqu(e.lcZ(146,173,"Update Personal Details")),e.xp6(3),e.Q6J("formGroup",i.employeForm),e.xp6(4),e.Oqu(e.lcZ(153,175,"Employe First Name")),e.xp6(2),e.s9C("placeholder",e.lcZ(155,177,"First Name")),e.xp6(2),e.Q6J("ngIf",i.formErrors.firstName),e.xp6(3),e.Oqu(e.lcZ(160,179,"Middle Name")),e.xp6(2),e.s9C("placeholder",e.lcZ(162,181,"middle Name")),e.xp6(2),e.Q6J("ngIf",i.formErrors.middleName),e.xp6(3),e.Oqu(e.lcZ(167,183,"Last Name")),e.xp6(2),e.s9C("placeholder",e.lcZ(169,185,"Last Name")),e.xp6(2),e.Q6J("ngIf",i.formErrors.lastName),e.xp6(4),e.Oqu(e.lcZ(175,187,"Employe Code")),e.xp6(2),e.s9C("placeholder",e.lcZ(177,189,"Employe Code")),e.xp6(2),e.Q6J("ngIf",i.formErrors.empCode),e.xp6(3),e.Oqu(e.lcZ(182,191,"Email Address")),e.xp6(2),e.s9C("placeholder",e.lcZ(184,193,"Email Address")),e.xp6(2),e.Q6J("ngIf",i.formErrors.email),e.xp6(3),e.Oqu(e.lcZ(189,195,"Date of Joining")),e.xp6(3),e.Q6J("ngIf",i.formErrors.dateOfJoining),e.xp6(4),e.Oqu(e.lcZ(196,197,"Mobile Number")),e.xp6(2),e.s9C("placeholder",e.lcZ(198,199,"Mobile Number")),e.xp6(2),e.Q6J("ngIf",i.formErrors.contactNo),e.xp6(3),e.Oqu(e.lcZ(203,201,"Date of Birth")),e.xp6(3),e.Q6J("ngIf",i.formErrors.dob),e.xp6(3),e.Oqu(e.lcZ(209,203,"Gender")),e.xp6(2),e.s9C("placeholder",e.lcZ(211,205,"Select Gender")),e.Q6J("items",i.options),e.xp6(2),e.Q6J("ngIf",i.formErrors.gender),e.xp6(4),e.Oqu(e.lcZ(217,207,"Department")),e.xp6(2),e.s9C("placeholder",e.lcZ(219,209,"Select Department")),e.Q6J("items",i.departments),e.xp6(2),e.Q6J("ngIf",i.formErrors.department),e.xp6(3),e.Oqu(e.lcZ(224,211,"Designation")),e.xp6(2),e.s9C("placeholder",e.lcZ(226,213,"Designation")),e.xp6(2),e.Q6J("ngIf",i.formErrors.designation),e.xp6(4),e.Oqu(e.lcZ(232,215,"Father's Name")),e.xp6(2),e.s9C("placeholder",e.lcZ(234,217,"Father`s Name")),e.xp6(2),e.Q6J("ngIf",i.formErrors.fatherName),e.xp6(3),e.Oqu(e.lcZ(239,219,"Mother`s Name")),e.xp6(2),e.s9C("placeholder",e.lcZ(241,221,"Mother`s Name")),e.xp6(2),e.Q6J("ngIf",i.formErrors.motherName),e.xp6(4),e.Oqu(e.lcZ(247,223,"Address")),e.xp6(2),e.s9C("placeholder",e.lcZ(249,225,"Address")),e.xp6(3),e.Q6J("ngIf",i.formErrors.address),e.xp6(3),e.Oqu(e.lcZ(255,227,"City")),e.xp6(2),e.s9C("placeholder",e.lcZ(257,229,"Select Location")),e.Q6J("items",i.cities)("virtualScroll",!0),e.xp6(2),e.Q6J("ngIf",i.formErrors.location),e.xp6(2),e.s9C("buttonText",e.lcZ(261,231,"Update")),e.xp6(2),e.s9C("buttonText",e.lcZ(263,233,"Cancel")),e.xp6(2),e.Q6J("isOpen",i.editBankAndDocument),e.xp6(2),e.Oqu(e.lcZ(267,235,"Update Bank and Document Details")),e.xp6(2),e.Q6J("formGroup",i.identityForm),e.xp6(1),e.Q6J("ngForOf",i.identityForm.get("documents").controls),e.xp6(2),e.Q6J("buttonText",e.lcZ(272,237,"Add Line")),e.xp6(5),e.Oqu(e.lcZ(277,239,"Social Security Number")),e.xp6(2),e.s9C("placeholder",e.lcZ(279,241,"Social Security Number")),e.xp6(2),e.Q6J("ngIf",i.identityFormErrors.socialSecurityNumber),e.xp6(2),e.Oqu(e.lcZ(283,243,"Bank Details")),e.xp6(3),e.hij(" ",e.lcZ(286,245,"Share the bank related information for automation of process"),". "),e.xp6(5),e.Oqu(e.lcZ(291,247,"Bank Name")),e.xp6(2),e.s9C("placeholder",e.lcZ(293,249,"Bank Name")),e.xp6(2),e.Q6J("ngIf",i.identityFormErrors.bankName),e.xp6(3),e.Oqu(e.lcZ(298,251,"Account Number")),e.xp6(2),e.s9C("placeholder",e.lcZ(300,253,"Account Number")),e.xp6(2),e.Q6J("ngIf",i.identityFormErrors.accountNumber),e.xp6(3),e.Oqu(e.lcZ(305,255,"IFSC Code")),e.xp6(2),e.s9C("placeholder",e.lcZ(307,257,"IFSC Code")),e.xp6(2),e.Q6J("ngIf",i.identityFormErrors.ifscCode),e.xp6(3),e.Oqu(e.lcZ(312,259,"Swift Code")),e.xp6(2),e.s9C("placeholder",e.lcZ(314,261,"Swift Code")),e.xp6(2),e.Q6J("ngIf",i.identityFormErrors.swiftCode),e.xp6(2),e.s9C("buttonText",e.lcZ(318,263,"Update")),e.xp6(2),e.s9C("buttonText",e.lcZ(320,265,"Cancel")),e.xp6(2),e.Q6J("isOpen",i.editEOEDate),e.xp6(2),e.hij(" ",e.lcZ(324,267,"Select End of employement date")," "),e.xp6(6),e.hij("",e.lcZ(330,269,"Select Date"),":"),e.xp6(3),e.Q6J("formControl",i.eoeDate)("min",i.today),e.xp6(2),e.s9C("buttonText",e.lcZ(335,271,"End Employement")),e.xp6(2),e.s9C("buttonText",e.lcZ(337,273,"Cancel")))},dependencies:[d.sg,d.O5,g.r,Je.O,w.t,a.Fj,a.wV,a.JJ,a.JL,a.qQ,a.oH,a.sg,a.u,a.x0,a.CE,v.w9,d.uU,x.X$],styles:[".box-shadow[_ngcontent-%COMP%]{box-shadow:#3c40434d 0 1px 2px,#3c404326 0 2px 6px 2px}"]}),o})()},{path:"revise-salary",component:Ie}];let vt=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[h.Bz.forChild(Zt),h.Bz]}),o})();var At=c(4466);let Ct=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[d.ez,vt,At.m,a.UX,v.A0]}),o})()}}]);